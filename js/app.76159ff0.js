(function(t){function e(e){for(var o,r,n=e[0],c=e[1],l=e[2],d=0,h=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},i={app:0},s=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/agroideas-maizplus/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0136":function(t,e,a){"use strict";var o=a("8d49"),i=a.n(o);i.a},"01af":function(t,e,a){},"0325":function(t,e,a){"use strict";var o=a("0b97"),i=a.n(o);i.a},"06ca":function(t,e,a){"use strict";var o=a("4cee"),i=a.n(o);i.a},"0798":function(t,e,a){},"07e4":function(t,e,a){},"0a07":function(t,e,a){"use strict";var o=a("256d"),i=a.n(o);i.a},"0b97":function(t,e,a){},"0f19":function(t,e,a){},1:function(t,e){},1420:function(t,e,a){"use strict";var o=a("822f"),i=a.n(o);i.a},"17ce":function(t,e,a){"use strict";var o=a("c4cc"),i=a.n(o);i.a},"1a77":function(t,e,a){},"1b5f":function(t,e,a){t.exports.GuardarJsonEnStorage=(t,e)=>{var a=!1;try{localStorage.setItem(t,JSON.stringify(e)),a=!0}catch(o){console.log(o),localStorage.clear()}return a},t.exports.RecuperarJsonDeStorage=t=>{var e=null;try{e=JSON.parse(localStorage.getItem(t))}catch(a){console.log(a)}return e},t.exports.RecuperarJsonsDeStorage=t=>{var e=[];try{for(var a in window.localStorage)window.localStorage.hasOwnProperty(a)&&a.includes(t)&&e.push(this.RecuperarJsonDeStorage(a))}catch(o){console.log(o)}return e},t.exports.RecuperarProgresoDeStorage=()=>{var t=null;try{for(var e in window.localStorage)if(window.localStorage.hasOwnProperty(e)&&e.includes(ProgresoUsuario._PreKey)){t=JSON.parse(localStorage.getItem(e));break}}catch(a){console.log(a)}return t},t.exports.EliminarJsonDelStorage=t=>{try{localStorage.removeItem(t),console.log(t+" eliminado del Storage!")}catch(e){console.log(e)}},t.exports.EliminarJsonDelStorage1=t=>{try{for(var e in window.localStorage)window.localStorage.hasOwnProperty(e)&&e.includes(t)&&EliminarJsonDelStorage(e)}catch(a){console.log(a)}},t.exports.LimpiarStorage=()=>{try{localStorage.clear()}catch(t){console.log(t)}},t.exports.TamañoUsadoPorElStorage=()=>{var t=0;try{var e="";for(var a in window.localStorage)window.localStorage.hasOwnProperty(a)&&(e+=window.localStorage[a]);t=e?16*e.length/8192:0}catch(o){console.log(o)}return t},t.exports.Fecha=class{constructor(t){null==t&&(t=new Date),this._Año=t.getFullYear(),this._Mes=t.getMonth()+1,this._Dia=t.getDate(),this._Horas=t.getHours(),this._Minutos=t.getMinutes(),this._Segundos=t.getSeconds(),this._FechaYHora=this.ObtenerTexto(),this._Fecha=this.ObtenerTexto1()}ObtenerTexto(){var t="";try{t+=("0"+this._Dia).slice(-2),t+="/"+("0"+this._Mes).slice(-2),t+="/"+this._Año,t+=" "+("0"+this._Horas).slice(-2),t+=":"+("0"+this._Minutos).slice(-2),t+=":"+("0"+this._Segundos).slice(-2)}catch(e){console.log(e)}return t}ObtenerTexto1(){var t="";try{t+=("0"+this._Dia).slice(-2),t+="/"+("0"+this._Mes).slice(-2),t+="/"+this._Año}catch(e){console.log(e)}return t}Paquete(){return this._Año+"/"+this._Mes+"/"+this._Dia+"/"+this._Horas+"/"+this._Minutos+"/"+this._Segundos}SetearDesdePaquete(t){var e=t.split("/");6==e.length&&(this._Año=e[0],this._Mes=e[1],this._Dia=e[2],this._Horas=e[3],this._Minutos=e[4],this._Segundos=e[5],this._FechaYHora=this.ObtenerTexto(),this._Fecha=this.ObtenerTexto1())}ObtenerFecha(){return new Date(this._Año,this._Mes-1,this._Dia,this._Horas,this._Minutos,this._Segundos)}},t.exports.ClaseEjemplo=class{constructor(){this._Id=0,this._FechaAlta="",this._NombreProductor="",this._NombreEstablecimiento="",this._Localidad=""}},t.exports.Marcador=class{constructor(){this.id=0,this.name="",this.localidad="",this.description="",this.position=null}},t.exports.GeoLocation=class{constructor(){this.lat=0,this.lng=0}},String.prototype.PrimeraLetraMayuscula=function(){return this.length<1?this.toString():this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.LimpiarCaracteresInvalidos=function(){return this.replace(/([^a-z0-9\s]+)/gi,"-")},Array.prototype.UltimosCincoItems=function(){return this.slice(Math.max(this.length-10,0))},String.prototype.ObtenerNumero=function(){let t=this;return t=t.replace(",","."),t=parseFloat(t),isNaN(t)&&(t=0),t};var o=2001;console.log("production"),t.exports.UrlPosts=()=>"localhost"==location.host.split(":")[0]?"https://localhost:"+o:"192.168.0.228"==location.host.split(":")[0]?"https://192.168.0.228:"+o:"https://api.novarpgoficial.com:"+o},"1e73":function(t,e,a){t.exports=a.p+"img/logo-agroideas.7436c321.png"},"1f7f":function(t,e,a){const o=a("1b5f"),i=a("bc3a");t.exports.MiIP=async()=>{var t="";return await i.get("https://api.ipify.org/?format=json").then((function(e){t=e.data.ip})).catch((function(t){})),t},t.exports.IniciarProcesoSincronizaciones=t=>{console.log(this._KeyRegistrosPendientesGeneralPluviometros),console.log("Inicio ProcesoCargasPendientes..."),setTimeout(()=>{this.ProcesoCargasPendientes(t)},2e3)},t.exports.ProcesoCargasPendientes=async t=>{try{t.Datos.AppOnline()&&(ActualizacionRegistrosPluviometros(t),ActualizacionRegistrosFreatimetros(t)),setTimeout(()=>{this.ProcesoCargasPendientes(t)},2e3)}catch(e){console.log(e)}};var s="InfoPluviometro";t.exports.KeyDataCacheadaPluviometros=t=>s+t,t.exports.GuardarDataEnCachePluviometro=t=>{var e={_Fecha:new o.Fecha(new Date),_Key:"InfoPluviometro"+t._IdPluviometro,_Json:t};o.GuardarJsonEnStorage(this.KeyDataCacheadaPluviometros(t._IdPluviometro),e)},t.exports._KeyRegistrosPendientesGeneralPluviometros="RegistrosPendientes_Pluviometros_",ActualizacionRegistrosPluviometros=async t=>{try{var e=0,a=o.RecuperarJsonsDeStorage(this._KeyRegistrosPendientesGeneralPluviometros);for(let l=0;l<a.length;l++){var i=a[l],s=[],r=!1,n=0;for(let a=0;a<i.length;a++){let o=i[a];n=o.IdPluviometro;var c={IdUsuario:t.Datos._User._ID,IdPluviometro:o.IdPluviometro,Valor:o.Valor,Fecha:o.Fecha};let l=await this.IntentoAltaRegistroPluviometro(c,!1,t);l?(r=!0,e+=1):s.push(o)}r&&(o.GuardarJsonEnStorage(this._KeyRegistrosPendientesGeneralPluviometros+n,s),ActualizarComponentePluviometro(t,n),console.log("RegistrosPluviometros sincronizados!"))}e>0&&t.Notificacion(e+" registros de pluviómetro sincronizados!","","",3)}catch(l){console.log(l)}},t.exports.IntentoAltaRegistroPluviometro=async(t,e,a)=>{var s=!1;try{var r=this;await i.post(o.UrlPosts()+"/AgroIdeas/AltaRegistroPluviometro",t).then((function(t){s=!0})).catch((function(i){if(e){var s=r._KeyRegistrosPendientesGeneralPluviometros+t.IdPluviometro,n=o.RecuperarJsonDeStorage(s);null==n&&(n=[]),n.push(t),o.GuardarJsonEnStorage(s,n),a.Notificacion("Registro guardado!","Se sincronizará automáticamente con el servidor cuando vuelvas a tener conexión.","warn",8)}})).then((function(){}))}catch(n){console.log(n)}return s},t.exports.ObtenerRegistrosPluviometro=(t,e)=>{var a=this;try{i.post(o.UrlPosts()+"/AgroIdeas/RegistrosPluviometro",{IdPluviometro:t}).then((function(o){a.GuardarDataEnCachePluviometro(o.data),e&&e.VistaActual(t)&&(e.InfoPluviometro=o.data,e.DataActualizada=!0,e.AuxiliaresVista(t))})).catch((function(a){e&&e.VistaActual(t)&&(e.DataActualizada=!1,e.AuxiliaresVista(t))})).then((function(){}))}catch(s){console.log(s)}},ActualizarComponentePluviometro=(t,e)=>{try{let a=t.$children.find(t=>"Pluviometro"===t.$options.name);this.ObtenerRegistrosPluviometro(e,a)}catch(a){console.log(a)}};var r="InfoFreatimetro";t.exports.KeyDataCacheadaFreatimetros=t=>r+t,t.exports.GuardarDataEnCacheFreatimetro=t=>{var e={_Fecha:new o.Fecha(new Date),_Key:"InfoFreatimetro"+t._IdFreatimetro,_Json:t};o.GuardarJsonEnStorage(this.KeyDataCacheadaFreatimetros(t._IdFreatimetro),e)},t.exports._KeyRegistrosPendientesGeneralFreatimetros="RegistrosPendientes_Freatimetros_",ActualizacionRegistrosFreatimetros=async t=>{try{var e=0,a=o.RecuperarJsonsDeStorage(this._KeyRegistrosPendientesGeneralFreatimetros);for(let l=0;l<a.length;l++){var i=a[l],s=[],r=!1,n=0;for(let a=0;a<i.length;a++){let o=i[a];n=o.IdFreatimetro;var c={IdUsuario:t.Datos._User._ID,IdFreatimetro:o.IdFreatimetro,Valor:o.Valor,Fecha:o.Fecha};let l=await this.IntentoAltaRegistroFreatimetro(c,!1,t);l?(r=!0,e+=1):s.push(o)}r&&(o.GuardarJsonEnStorage(this._KeyRegistrosPendientesGeneralFreatimetros+n,s),ActualizarComponenteFreatimetro(t,n),console.log("RegistrosFreatimetros sincronizados!"))}e>0&&t.Notificacion(e+" registros de freatímetro sincronizados!","","",3)}catch(l){console.log(l)}},t.exports.IntentoAltaRegistroFreatimetro=async(t,e,a)=>{var s=!1;try{var r=this;await i.post(o.UrlPosts()+"/AgroIdeas/AltaRegistroFreatimetro",t).then((function(t){s=!0})).catch((function(i){if(e){var s=r._KeyRegistrosPendientesGeneralFreatimetros+t.IdFreatimetro,n=o.RecuperarJsonDeStorage(s);null==n&&(n=[]),n.push(t),o.GuardarJsonEnStorage(s,n),a.Notificacion("Registro guardado!","Se sincronizará automáticamente con el servidor cuando vuelvas a tener conexión.","warn",8)}})).then((function(){}))}catch(n){console.log(n)}return s},t.exports.ObtenerRegistrosFreatimetro=(t,e)=>{var a=this;try{i.post(o.UrlPosts()+"/AgroIdeas/RegistrosFreatimetro",{IdFreatimetro:t}).then((function(o){a.GuardarDataEnCacheFreatimetro(o.data),e&&e.VistaActual(t)&&(e.InfoFreatimetro=o.data,e.DataActualizada=!0,e.AuxiliaresVista(t))})).catch((function(a){e&&e.VistaActual(t)&&(e.DataActualizada=!1,e.AuxiliaresVista(t))})).then((function(){}))}catch(s){console.log(s)}},ActualizarComponenteFreatimetro=(t,e)=>{try{let a=t.$children.find(t=>"Freatimetro"===t.$options.name);this.ObtenerRegistrosFreatimetro(e,a)}catch(a){console.log(a)}},t.exports._KeyRegistrosPendientesGeneralVeris="RegistrosPendientes_Veris_",t.exports.IntentoAltaRegistroVeris=async(t,e,a)=>{var s=!1;try{await i.post(o.UrlPosts()+"/uploadpdf",t).then(t=>{console.log(t),s=!0}).catch((function(t){t.toString().includes("Network Error")?a.Notificacion("Network Error!","Hubo un problema de conexión, intenta nuevamente cuando recuperes el internet!","error",8):a.Notificacion("Error!","Consulta con algún administrador!","error",8),console.log(t)}))}catch(r){console.log(r)}return s},t.exports.ObtenerRegistrosVeris=(t,e)=>{var a=e;try{i.post(o.UrlPosts()+"/AgroIdeas/RegistrosVeris",{Id:t}).then((function(e){a.GuardarDataEnCache(e.data),a.VistaActual(t)&&(a.InfoVeris=e.data,a.DataActualizada=!0,a.AuxiliaresVista(t))})).catch((function(e){a.VistaActual(t)&&(a.DataActualizada=!1,a.AuxiliaresVista(t))})).then((function(){}))}catch(s){console.log(s)}},t.exports.IntentoAltaRegistroAgua=async(t,e,a)=>{var s=!1;try{await i.post(o.UrlPosts()+"/uploadpdf",t).then(t=>{console.log(t),s=!0}).catch((function(t){t.toString().includes("Network Error")?a.Notificacion("Network Error!","Hubo un problema de conexión, intenta nuevamente cuando recuperes el internet!","error",8):a.Notificacion("Error!","Consulta con algún administrador!","error",8),console.log(t)}))}catch(r){console.log(r)}return s},t.exports.ObtenerRegistrosAgua=(t,e)=>{var a=e;try{i.post(o.UrlPosts()+"/AgroIdeas/RegistrosAgua",{Id:t}).then((function(e){a.GuardarDataEnCache(e.data),a.VistaActual(t)&&(a.Info=e.data,a.DataActualizada=!0,a.AuxiliaresVista(t))})).catch((function(e){a.VistaActual(t)&&(a.DataActualizada=!1,a.AuxiliaresVista(t))})).then((function(){}))}catch(s){console.log(s)}},t.exports.IntentoAltaRegistroSuelo=async(t,e,a)=>{var s=!1;try{await i.post(o.UrlPosts()+"/uploadpdf",t).then(t=>{console.log(t),s=!0}).catch((function(t){t.toString().includes("Network Error")?a.Notificacion("Network Error!","Hubo un problema de conexión, intenta nuevamente cuando recuperes el internet!","error",8):a.Notificacion("Error!","Consulta con algún administrador!","error",8),console.log(t)}))}catch(r){console.log(r)}return s},t.exports.ObtenerRegistrosSuelo=(t,e)=>{var a=e;try{i.post(o.UrlPosts()+"/AgroIdeas/RegistrosSuelo",{Id:t}).then((function(e){a.GuardarDataEnCache(e.data),a.VistaActual(t)&&(a.Info=e.data,a.DataActualizada=!0,a.AuxiliaresVista(t))})).catch((function(e){a.VistaActual(t)&&(a.DataActualizada=!1,a.AuxiliaresVista(t))})).then((function(){}))}catch(s){console.log(s)}},t.exports.DescargarArchivo=async t=>i.get(t,{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}})},2:function(t,e){},"256d":function(t,e,a){},"281f":function(t,e,a){"use strict";var o=a("3059"),i=a.n(o);i.a},"28e5":function(t,e,a){"use strict";var o=a("0798"),i=a.n(o);i.a},3:function(t,e){},3059:function(t,e,a){},3212:function(t,e,a){"use strict";var o=a("01af"),i=a.n(o);i.a},"32ea":function(t,e,a){"use strict";var o=a("ccc1"),i=a.n(o);i.a},4:function(t,e){},4190:function(t,e,a){},"4cee":function(t,e,a){},5:function(t,e){},"53e9":function(t,e,a){"use strict";var o=a("07e4"),i=a.n(o);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),i=a("ecee"),s=a("c074"),r=a("ad3d");i["c"].add(s["a"]),o["default"].component("font-awesome-icon",r["a"]);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"App",attrs:{id:"app"}},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:null!=this.Datos._User,expression:"this.Datos._User != null"}],staticClass:"FondoVistas"}),a("router-view"),a("GUI",{directives:[{name:"show",rawName:"v-show",value:null!=this.Datos._User,expression:"this.Datos._User != null"}]}),a("notifications",{attrs:{group:"Notificaciones",position:"bottom right"}}),a("vue-confirm-dialog")],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FondoTriangulos"},[a("div",{staticClass:"w100 aliCenter h100 dIB"},[a("div",{staticClass:"Triangulo1"}),a("div",{staticClass:"Triangulo2"})])])}],l=a("bc3a"),u=a.n(l),d=a("1b5f"),h=a.n(d),m=a("1f7f"),f=a.n(m),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ContenedorGUI"},[o("div",{staticClass:"ContedorHeader"},[o("font-awesome-icon",{staticClass:"IconoHeader1 fLeft vAliMid",style:{color:"white"},attrs:{icon:"arrow-left",size:"4x"},on:{click:function(e){return t.GoBack()}}}),o("router-link",{attrs:{to:"/"}},[o("img",{staticClass:"LogoAgroideas vAliMid",attrs:{src:a("1e73"),alt:"LogoAgroideas"}})]),o("font-awesome-icon",{staticClass:"IconoHeader fRight vAliMid",style:{color:"white"},attrs:{icon:"bars",size:"4x"},on:{click:function(e){return t.ClickMenu()}}}),o("div",{staticClass:"clear"})],1),o("div",{ref:"Menu",staticClass:"Menu"},[o("div",{staticClass:"w100 aliLeft pR"},[o("font-awesome-icon",{staticClass:"IconoHeader IconoCerrarMenu fRight vAliMid",style:{color:"white"},attrs:{icon:"times",size:"4x"},on:{click:function(e){return t.ClickMenu()}}}),o("div",{staticClass:"OpcionMenu BordeInferior"},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"user-tie",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Hola "),o("span",{ref:"NombreUsuario"}),t._v("!")]),o("div",{staticClass:"clear"})],1),o("router-link",{directives:[{name:"show",rawName:"v-show",value:this.SeccionProductoresVisible,expression:"this.SeccionProductoresVisible"}],staticClass:"OpcionMenu BordeInferior",attrs:{to:"/productores"},nativeOn:{click:function(e){return t.ClickMenu()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"users",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Productores")]),o("div",{staticClass:"clear"})],1),o("router-link",{staticClass:"OpcionMenu",attrs:{to:"/aguas"},nativeOn:{click:function(e){return t.ClickMenu()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"water",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Análisis Agua Útil")]),o("div",{staticClass:"clear"})],1),o("router-link",{staticClass:"OpcionMenu",attrs:{to:"/pluviometros"},nativeOn:{click:function(e){return t.ClickMenu()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"filter",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Pluviómetros")]),o("div",{staticClass:"clear"})],1),o("router-link",{staticClass:"OpcionMenu",attrs:{to:"/freatimetros"},nativeOn:{click:function(e){return t.ClickMenu()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"ruler-vertical",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Freatímetros")]),o("div",{staticClass:"clear"})],1),o("router-link",{staticClass:"OpcionMenu",attrs:{to:"/veris"},nativeOn:{click:function(e){return t.ClickMenu()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"images",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Informes de Ambientación")]),o("div",{staticClass:"clear"})],1),o("div",{staticClass:"OpcionMenu BordeSuperior",on:{click:function(e){return t.Desloguear()}}},[o("font-awesome-icon",{staticClass:"IconoOpcionMenu fLeft vAliMid",style:{color:"white"},attrs:{icon:"sign-out-alt",size:"4x"}}),o("div",{staticClass:"fLeft"},[t._v("Salir")]),o("div",{staticClass:"clear"})],1)],1)]),o("div",{staticClass:"ContedorNav"},[o("div",{ref:"DivSinConexion",staticClass:"DivSinConexion"},[t._v("Sin conexión")]),o("img",{staticClass:"LogoMaizPlus fLeft vAliMid",attrs:{src:a("f7eb"),alt:"LogoMaizPlus"}}),t._m(0),o("div",{staticClass:"clear"})])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fRight mR5 aliRight AjusteTitulo1"},[t._v(" AgroIdeas SA "),a("br"),t._v(" Rivadavia 87, Ramona, Santa Fe ")])}],v={name:"GUI",components:{},data(){return{SeccionProductoresVisible:!1}},mounted(){this.ValidarInfo(),this.ChequearConexion()},methods:{Desloguear(){this.ClickMenu(),this.$parent.Datos.LogOff(this.$router)},ClickMenu(){this.$refs.Menu.classList.contains("MenuVisible")?this.$refs.Menu.classList.remove("MenuVisible"):this.$refs.Menu.classList.add("MenuVisible")},ChequearConexion(){try{var t=this.$refs.DivSinConexion;this.$parent.Datos.AppOnline()?t.classList.contains("Visible")&&t.classList.remove("Visible"):0==t.classList.contains("Visible")&&t.classList.add("Visible");var e=this;setTimeout(()=>{e.ChequearConexion()},1e3)}catch(a){console.log(a)}},ValidarInfo(){null!=this.$parent.Datos._User&&(this.$refs.NombreUsuario.innerText=this.$parent.Datos._User._Nick,99==this.$parent.Datos._User._RolUsuario?this.SeccionProductoresVisible=!0:this.SeccionProductoresVisible=!1)},GoBack(){this.$router.back()}}};window.onhashchange=function(){alert("adas")};var _=v,I=(a("d6b0"),a("2877")),C=Object(I["a"])(_,p,g,!1,null,"4a431857",null),P=C.exports,D={name:"App",data(){return{Datos:{_IP:"",_User:null,AdminLogueado(){var t=!1;return null!=this._User&&(t=99==this._User._RolUsuario),t},UrlPosts(){return h.a.UrlPosts()},KeyUser(){return"UserAgroIdeas"},LogOff(t){h.a.EliminarJsonDelStorage(this.KeyUser()),t.push("/login"),this._User=null},ChequearSesionUsuario(t){var e=!0;return this._User=h.a.RecuperarJsonDeStorage(this.KeyUser()),null==this._User&&"./login"!=t.currentRoute.path&&(e=!1,t.push("/login")),e},AppOnline(){return navigator.onLine}}}},async mounted(){f.a.IniciarProcesoSincronizaciones(this)},components:{GUI:P},methods:{LoginCorrecto(t){this.Datos._User=t},SolicitarProductores(){var t=0;99!=this.Datos._User._RolUsuario&&(t=this.Datos._User._Id);var e=this;u.a.post(e.Datos.UrlPosts()+"/manolo/productores",{IdProductor:t}).then((function(t){let a=t.data;a.length>0?e.Datos._Productores=a:alert("No se encontraron productores")})).catch((function(t){console.log(t)})).then((function(){}))},Notificacion(t,e,a,o){""==a&&(a="success"),this.$notify({group:"Notificaciones",title:t,type:a,speed:500,duration:1e3*o,text:e})}}},b=D,w=(a("5c0b"),Object(I["a"])(b,n,c,!1,null,null,null)),A=w.exports,y=a("8c4f"),$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w100"},[o("div",{staticClass:"Centro w100 dIB"},[o("div",{ref:"SeccionLogin",staticClass:"wrapper PosIncial0 TransitionAll1"},[o("div",{staticClass:"rec-prism"},[o("div",{staticClass:"face face-front oHidden"},[o("div",{staticClass:"w100 aliCenter"},[o("img",{ref:"LogoAgroIdeas",staticClass:"LogoAgroideas TransitionAll07 PosIncial1",attrs:{src:a("1e73")}})]),o("div",{staticClass:"content aliCenter mT10"},[o("div",{},[o("div",{staticClass:"field-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Usuario._Name,expression:"Usuario._Name"}],attrs:{type:"text",name:"username",placeholder:"username"},domProps:{value:t.Usuario._Name},on:{input:function(e){e.target.composing||t.$set(t.Usuario,"_Name",e.target.value)}}}),o("label",[t._v("Nombre de Usuario")])]),o("div",{staticClass:"field-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Usuario._Pass,expression:"Usuario._Pass"}],attrs:{type:"password",name:"password",placeholder:"password",autocomplete:"new-password"},domProps:{value:t.Usuario._Pass},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.IntentarLogin():null},input:function(e){e.target.composing||t.$set(t.Usuario,"_Pass",e.target.value)}}}),o("label",[t._v("Contraseña")])]),o("div",{staticClass:"field-wrapper"},[o("button",{staticClass:"Boton",on:{click:function(e){return t.IntentarLogin()}}},[t._v("Entrar")])])])]),o("div",{staticClass:"w100 aliCenter"},[o("img",{ref:"LogoMaiz",staticClass:"LogoMaizPlus TransitionAll07 PosIncial2",attrs:{src:a("f7eb"),alt:"LogoMaizPlus"}})])])])])])])},E=[],F={name:"Login",data(){return{Usuario:{_Name:"",_Pass:""}}},mounted(){h.a.EliminarJsonDelStorage(this.$parent.Datos.KeyUser()),setTimeout(()=>{this.$refs.SeccionLogin.classList.add("PosFinal0"),this.$refs.LogoAgroIdeas.classList.add("PosFinal1"),this.$refs.LogoMaiz.classList.add("PosFinal2")},100)},methods:{showSignup(){let t=document.querySelector(".rec-prism");t.style.transform="translateZ(-100px) rotateY( -90deg)"},showBienvenido(){let t=document.querySelector(".rec-prism");t.style.transform="translateZ(-100px) rotateY( -90deg)"},IntentarLogin(){if(this.Usuario._Name.length>0&&this.Usuario._Pass.length){var t=this;u.a.post(t.$parent.Datos.UrlPosts()+"/users/login",{name:this.Usuario._Name,pass:this.Usuario._Pass}).then((function(e){let a=e.data;if(null!=a){h.a.GuardarJsonEnStorage(t.$parent.Datos.KeyUser(),a),t.$parent.Datos._User=a,t.$router.push("/");let e=t.$parent.$children.find(t=>"GUI"===t.$options.name);e.ValidarInfo()}else t.$parent.Notificacion("Datos incorrectos","","error",3),console.log("Login INCORRECTO!")})).catch((function(e){console.log("asdasdasd"),console.log(t.$parent.Datos.UrlPosts()+"/users/login"),console.log(e)})).then((function(){}))}else alert(2)},Prueba(){console.log(this.Usuario._Name)}}},S=F,R=(a("b527"),Object(I["a"])(S,$,E,!1,null,"22d4dc32",null)),L=R.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido aliCenter"},[t._m(0),t._m(1),a("div",{staticClass:"w100 SeccionLinks mT10"},[a("div",{staticClass:"w100 aliLeft TextoComun"},[a("div",{staticClass:"w100 aliLeft"},[a("br"),a("div",{staticClass:"c555 B U"},[t._v("- Herramientas de MAIZ PLUS:")]),a("router-link",{staticClass:"nU Link",attrs:{to:"/Suelos"}},[t._v("• Análisis químico-físico de suelo")]),a("router-link",{staticClass:"nU Link",attrs:{to:"/Aguas"}},[t._v("• Análisis agua útil")]),a("router-link",{staticClass:"nU Link",attrs:{to:"/pluviometros"}},[t._v("• Instalación de Pluviómetro en el lote")]),a("router-link",{staticClass:"nU Link",attrs:{to:"/Freatimetros"}},[t._v("• Instalación de Freatímetro en el lote")]),a("router-link",{staticClass:"nU Link",attrs:{to:"/Veris"}},[t._v("• Mapeo del lote con Rastra Veris (Conductividad Eléctrica, Altimétrica y Materia orgánica)")]),a("div",{staticClass:"nU Link"},[t._v("• Pronóstico de clima actualizado (Laboratorio Climatológico Sudamericano)")]),a("div",{staticClass:"nU Link"},[t._v("• Seguimiento semanal con Imágenes satelitales (Sentinel)")]),a("div",{staticClass:"nU Link"},[t._v("• Aplicación de fertilización sólida variable")])],1)])])])},N=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w100 aliCenter"},[o("img",{staticClass:"LogoMaizPlus",attrs:{src:a("f7eb"),alt:"LogoMaizPlus"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 aliLeft TextoComun"},[a("b",[t._v("AGROIDEAS SA")]),t._v(" pone a disposición para sus clientes "),a("b",[t._v('"MAIZ PLUS"')]),t._v(", un servicio de ocho herramientas agronómicas cuyo objetivo es la optimización del uso de recursos para los cultivos, logrando ser más eficientes y eficaces en cuanto a la producción obtenida; alcanzando así los mejores márgenes en su negocio, lote a lote. "),a("br"),t._v(" Nuestro equipo técnico trabajará en conjunto con los productores en cada lote específico para lograr las recomendaciones más apropiadas en cada situación, haciendo un diagnóstico completo de la superficie a sembrar, para luego brindarle al cliente la recomendación más apropiada en cuanto a la elección del híbrido de maíz, su densidad de siembra correspondiente, y la fertilización más adecuada para lograr los rendimientos objetivo de cada lote. ")])}],M={name:"SeccionMaizPlus",created(){},beforeMount(){},mounted(){this.$parent.Datos.ChequearSesionUsuario(this.$router)},methods:{},components:{}},U=M,k=(a("f102"),Object(I["a"])(U,V,N,!1,null,"17c2c114",null)),x=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"filter",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Pluviómetros")]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[t._m(0),a("tbody",t._l(t.Pluviometros,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerPluviometro(e._Id)}}},[a("td",[t._v(t._s(e._NombreProductor))]),a("td",[t._v(t._s(e._NombreEstablecimiento))]),a("td",[t._v(t._s(e._Localidad))])])})),0)]),a("br"),a("br"),a("router-link",{staticClass:"BotonVerMapa dIB",attrs:{to:"/vermapa?t=1"}},[t._v("Ver Mapa")])],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Productor")]),a("th",[t._v("Establ.")]),a("th",[t._v("Localidad")])])])}],z={name:"Pluviometros",data(){return{Pluviometros:null,_UserOk:!1,Error:null}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.IntentoObtenerDataDeCache(),this.ObtenerDatos())},methods:{ObtenerDatos(){var t=this;try{u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Pluviometros",{IdUsuario:t.$parent.Datos._User._ID}).then((function(e){t.Pluviometros=e.data,t.GuardarDataEnCache(t.Pluviometros),t.$refs.DivInfoData.classList.remove("Visible")})).catch((function(e){t.$refs.DivInfoData.classList.add("Visible")})).then((function(){}))}catch(e){console.log(e)}},VerPluviometro(t){this.$router.push("/pluviometro/"+t)},IntentoObtenerDataDeCache(){var t=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada());null!=t&&(this.Pluviometros=t._Json,this.$refs.FechaData.innerHTML=t._Fecha._FechaYHora)},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(),e)},KeyDataCacheada(){return"InfoPluviometros"+this.$parent.Datos._User._ID}},components:{}},j=z,B=(a("6a48"),Object(I["a"])(j,O,T,!1,null,"5cea0294",null)),G=B.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("ModalEdicion",{directives:[{name:"show",rawName:"v-show",value:t.ModalEdicionVisible,expression:"ModalEdicionVisible"}],ref:"ModalEdicion",on:{Cerrar:t.CerrarModalEdicion}}),a("SeccionTitulos",{attrs:{caso:"Pluviómetro",icon:"filter",productor:t.NombreProductor(),establecimiento:t.NombreEstablecimiento()}}),a("div",{staticClass:"SeccionLatLon cP",on:{click:function(e){return e.stopPropagation(),t.EditarPluviometro()}}},[a("span",[t._v("Editar coordenadas ")]),a("font-awesome-icon",{staticClass:"h100 IconoEditar",class:{Titilando:t.Titilando()},style:{color:"#348E54"},attrs:{icon:"edit",size:"4x"}})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData",class:{Visible:!t.DataActualizada}},[a("div",{staticClass:"fLeft"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"})]),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.RefrescarInfo(t.InfoPluviometro._IdPluviometro)}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",[t._v("Valor")]),a("th",[t._v("Fecha")]),a("th",{staticClass:"pR"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:this.$parent.Datos.AdminLogueado(),expression:"this.$parent.Datos.AdminLogueado()"}],staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoRegistro()}}})],1)])]),a("tbody",t._l(t.RegistrosPag,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"c1"},[t._v(t._s(e._Valor)+" mm")]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",{staticClass:"c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarRegistro(e._Id,t.InfoPluviometro._IdPluviometro)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id<=0,expression:"p._Id <= 0"}],staticClass:"h100 IconoEliminar cP fa fa-spinner fa-spin",style:{color:"#000000"},attrs:{icon:"spinner",size:"4x"}})],1)])})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.MostrarSinRegistros,expression:"this.MostrarSinRegistros"}],staticClass:"SinRegistros"},[t._v(" Aún no hay registros... ")]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}}),t.DataEjeX.length>0?a("GraficoLineal",{attrs:{TituloEjeY:"ml",DataEjeX:t.DataEjeX,DataEjeY:t.DataEjeY}}):t._e(),a("div",{staticClass:"BotonVerMapa dIB",on:{click:function(e){return t.ClickVerMapa()}}},[t._v("Ver Mapa")])],1)},J=[],H=a("5acc"),q=a.n(H),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"},[t._v("Nuevo registro")])])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Valor,expression:"Valor"}],ref:"Valor",attrs:{type:"number",placeholder:"Valor"},domProps:{value:t.Valor},on:{input:function(e){e.target.composing||(t.Valor=e.target.value)}}}),a("label",[t._v("Valor")])])])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.Aceptar()}}},[t._v("Aceptar")])])])])},W=[],X={name:"ModalNuevoEstablecimiento",data(){return{FechaAlta:new h.a.Fecha,Valor:"",_IdPluviometro:0}},mounted(){},created(){},methods:{Setear(t){this._IdPluviometro=t},Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async Aceptar(){try{await this.SolicitoAltaRegistroPluviometro(),this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.RefrescarInfo(this._IdPluviometro)}catch(t){console.log(t)}},async SolicitoAltaRegistroPluviometro(){try{var t={IdUsuario:this.$parent.$parent.Datos._User._ID,IdPluviometro:this._IdPluviometro,Valor:this.Valor,Fecha:(new h.a.Fecha).Paquete()};await f.a.IntentoAltaRegistroPluviometro(t,!0,this.$parent.$parent)}catch(e){console.error(e)}},LimpiarDatos(){this.Valor=""}}},Z=X,Q=(a("673c"),Object(I["a"])(Z,Y,W,!1,null,"01b23832",null)),tt=Q.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ContenidoComponente"},[a("apexcharts",{staticClass:"EstilosGrafico",attrs:{width:"100%",type:"bar",options:this.chartOptions,series:this.series}}),a("br")],1)},at=[],ot=a("1321"),it=a.n(ot),st={name:"Grafico",components:{apexcharts:it.a},watch:{DataEjeY:{immediate:!0,deep:!0,handler(t,e){this.ActualizarGrafico()}}},data:function(){return{chartOptions:{chart:{id:"basic-bar"},xaxis:{categories:[],labels:{show:!0,rotate:-45,rotateAlways:!0}},yaxis:{title:{text:"this.DataEjeY"}},noData:{text:"Aún no hay datos..."}},series:[{name:this.TituloEjeX,data:[]}]}},props:["TituloEjeY","DataEjeX","DataEjeY"],mounted(){this.ActualizarGrafico()},methods:{ActualizarGrafico(){this.chartOptions={xaxis:{categories:this.DataEjeX}},this.series=[{data:this.DataEjeY}]}}},rt=st,nt=(a("53e9"),Object(I["a"])(rt,et,at,!1,null,"766a809c",null)),ct=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:t.icon,size:"4x"}}),a("div",{staticClass:"fLeft mT12 aliLeft Ajuste1"},[a("b",[t._v(t._s(t.caso)+" de "+t._s(t.productor))]),a("br"),t._v(" "+t._s(t.establecimiento)+" ")]),a("div",{staticClass:"clear"})],1)])},ut=[],dt={props:["productor","establecimiento","icon","caso"]},ht=dt,mt=(a("f319"),Object(I["a"])(ht,lt,ut,!1,null,"414e4101",null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"})])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{staticClass:"Aclaracion"},[t._v("(Dejar campos vacíos si se quiere utilizar las mismas coordenadas del establecimiento)")]),a("div",{},[a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Info._Latitud,expression:"Info._Latitud"}],attrs:{type:"text",placeholder:"Latitud"},domProps:{value:t.Info._Latitud},on:{input:function(e){e.target.composing||t.$set(t.Info,"_Latitud",e.target.value)}}}),a("label",[t._v("Latitud (ej: -31.0302)")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Info._Longitud,expression:"Info._Longitud"}],attrs:{type:"text",placeholder:"Longitud"},domProps:{value:t.Info._Longitud},on:{input:function(e){e.target.composing||t.$set(t.Info,"_Longitud",e.target.value)}}}),a("label",[t._v("Longitud (ej: -31.0302)")])])])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.Aceptar()}}},[t._v("Aceptar")])])])])},gt=[],vt={name:"EdicionLatLon",data(){return{Info:{_Id:0,_LatitudOrig:"",_LongitudOrig:"",_Latitud:"",_Longitud:""},_Caso:1}},methods:{Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.LimpiarDatos(),this.$emit("Cerrar")},Editar(t,e,a){this.$refs.Titulo.innerHTML=1==a?"Editar coordenadas Pluviómetro...":"Editar coordenadas Freatímetro...",this._Caso=a,this.Info._Id=e,this.Info._LatitudOrig=t._Latitud,this.Info._LongitudOrig=t._Longitud,this.Info._Latitud=t._Latitud,this.Info._Longitud=t._Longitud},async Aceptar(){try{var t=!1;if(this.Info._Latitud=this.Info._Latitud.toString().trim().ObtenerNumero(),this.Info._Longitud=this.Info._Longitud.toString().trim().ObtenerNumero(),this.Info._Latitud!=this.Info._LatitudOrig||this.Info._Longitud!=this.Info._LongitudOrig){if(this.Validaciones())switch(this._Caso){case 1:await this.SolicitoEdicion("Pluviometro")&&(t=!0);break;default:await this.SolicitoEdicion("Freatimetro")&&(t=!0);break}}else this.$parent.$parent.Notificacion("","No se detectaron cambios!","alert",3);t&&this.$parent.SetearNuevasCoordenadas(this.Info._Latitud,this.Info._Longitud),this.LimpiarDatos(),this.$parent.CerrarModalEdicion()}catch(e){console.error(e)}},async SolicitoEdicion(t){var e=!1;try{var a=this,o=a.$parent.$parent.Datos._User;await u.a.post(a.$parent.$parent.Datos.UrlPosts()+"/AgroIdeas/Edicion"+t,{IdUsuario:o._ID,Info:a.Info}).then((function(o){""==o.data?(e=!0,a.$parent.$parent.Notificacion(t+" actualizado!","","success",3)):a.$parent.$parent.Notificacion(o.data,"","error",3)})).catch((function(t){console.log(t),a.$parent.$parent.Notificacion("Error!","","error",3)})).then((function(){}))}catch(i){console.error(i)}return e},Validaciones(){var t=!0;try{this.Info._Latitud.length<2&&(this.$notify({group:"Notificaciones",title:"Latitud inválida!",type:"error",speed:500,duration:3e3}),t=!1),this.Info._Longitud.length<2&&(this.$notify({group:"Notificaciones",title:"Longitud inválido!",type:"error",speed:500,duration:3e3}),t=!1)}catch(e){console.error(e)}return t},LimpiarDatos(){this.Info._Latitud="",this.Info._Longitud=""}}},_t=vt,It=(a("0136"),Object(I["a"])(_t,pt,gt,!1,null,"7ab6fac0",null)),Ct=It.exports,Pt={name:"Pluviometro",data(){return{InfoPluviometro:null,RegistrosPag:[],MostrarSinRegistros:!1,DataActualizada:!0,_UserOk:!1,Error:null,ModalVisible:!1,ModalEdicionVisible:!1,DataEjeX:[],DataEjeY:[],currentPage:0,totalPages:0,ItemsPorPagina:5,RecalcularPaginado(t){this.totalPages=Math.ceil(t._Registros.length/this.ItemsPorPagina);var e=[];for(let a=0;a<t._Registros.length;a++)a>=(this.currentPage-1)*this.ItemsPorPagina&&a<this.currentPage*this.ItemsPorPagina&&e.push(t._Registros[a]);this.RegistrosPag=e,this.MostrarSinRegistros=this.RegistrosPag.length<=0},NombreProductor(){return null!=this.InfoPluviometro?this.InfoPluviometro._Productor:""},NombreEstablecimiento(){return null!=this.InfoPluviometro?this.InfoPluviometro._Establecimiento:""},Latitud(){return null!=this.InfoPluviometro?this.InfoPluviometro._Latitud:""},Longitud(){return null!=this.InfoPluviometro?this.InfoPluviometro._Longitud:""},Online(){return this.$parent.Datos.AppOnline()},AdminLogueado(){return this.$parent.Datos.AdminLogueado()},Titilando(){return!(!this.InfoPluviometro||""!=this.InfoPluviometro._Latitud&&""!=this.InfoPluviometro._Longitud)}}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&this.RefrescarInfo(this.$route.params.Id)},methods:{RefrescarInfo(t){this.VistaActual(t)&&this.IntentoObtenerDataDeCache(t),f.a.ObtenerRegistrosPluviometro(t,this)},VistaActual(t){return this.$route.params.Id==t&&"Pluviometro"==this.$route.name},AuxiliaresVista(t){this.VistaActual(t)&&(this.currentPage=1,this.AgregarPendientes(t),this.RecalcularPaginado(this.InfoPluviometro),this.ActualizarDataGrafico())},AgregarPendientes(t){var e=h.a.RecuperarJsonDeStorage(this.KeyRegistrosPendientes(t));null!=e&&e.forEach(t=>{t={_Id:0,_Valor:t.Valor,_FechaAlta:(new h.a.Fecha)._Fecha};this.InfoPluviometro._Registros.unshift(t)})},IntentoObtenerDataDeCache(t){try{var e=h.a.RecuperarJsonDeStorage(f.a.KeyDataCacheadaPluviometros(t));null!=e&&(this.InfoPluviometro=e._Json,this.$refs.FechaData.innerHTML=e._Fecha._FechaYHora)}catch(a){console.log(a)}},KeyRegistrosPendientes(t){return f.a._KeyRegistrosPendientesGeneralPluviometros+t},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado(this.InfoPluviometro)},ActualizarDataGrafico(){var t=[],e=[];if(this.InfoPluviometro)for(let a=0;a<10;a++){const o=this.InfoPluviometro._Registros[a];o?(t.push(o._FechaAlta),e.push(o._Valor)):(t.push("-"),e.push(0))}t.reverse(),e.reverse(),this.DataEjeX=t,this.DataEjeY=e},NuevoRegistro(){this.$refs.Modal.Setear(this.InfoPluviometro._IdPluviometro),this.VerModal()},VerModal(){this.ModalVisible=!0,setTimeout(()=>{this.$refs.Modal.$refs.Valor.focus()},200)},CerrarModal(){this.ModalVisible=!1},EditarPluviometro(){this.ModalEdicionVisible=!0,this.$refs.ModalEdicion.Editar(this.InfoPluviometro,this.InfoPluviometro._IdPluviometro,1)},CerrarModalEdicion(){this.ModalEdicionVisible=!1},SetearNuevasCoordenadas(t,e){this.InfoPluviometro._Latitud=t,this.InfoPluviometro._Longitud=e},EliminarRegistro(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el registro?",button:{yes:"Si",no:"No"},callback:o=>{o&&u.a.post(a.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaRegistroPluviometro",{IdUsuario:a.$parent.Datos._User._ID,IdRegistro:t}).then((function(t){a.$parent.Notificacion("Registro eliminado!","","success",3),a.RefrescarInfo(e)})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})},ClickVerMapa(){this.$router.push("/vermapa?t=1&idpres="+this.$route.params.Id)}},components:{SlidingPagination:q.a,Modal:tt,GraficoLineal:ct,SeccionTitulos:ft,ModalEdicion:Ct}},Dt=Pt,bt=(a("1420"),Object(I["a"])(Dt,K,J,!1,null,"842e13c6",null)),wt=bt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"ruler-vertical",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Freatímetros")]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[t._m(0),a("tbody",t._l(t.Freatimetros,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerFreatimetro(e._Id)}}},[a("td",[t._v(t._s(e._NombreProductor))]),a("td",[t._v(t._s(e._NombreEstablecimiento))]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",[t._v(t._s(e._Localidad))])])})),0),a("tbody")]),a("br"),a("br"),a("router-link",{staticClass:"BotonVerMapa dIB",attrs:{to:"/vermapa?t=2"}},[t._v("Ver Mapa")])],1)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Productor")]),a("th",[t._v("Establ.")]),a("th",[t._v("Fecha")]),a("th",[t._v("Localidad")])])])}],$t={name:"Freatimetros",data(){return{Freatimetros:null,_UserOk:!1,Error:null}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&this.ObtenerDatos()},methods:{ObtenerDatos(){var t=this,e=t.$parent.Datos._User;null==e?t.$router.push("/login"):u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Freatimetros",{IdUsuario:1}).then((function(e){t.Freatimetros=e.data})).catch((function(e){t.Error=e})).then((function(){}))},VerFreatimetro(t){this.$router.push("/freatimetro/"+t)}},components:{}},Et=$t,Ft=(a("704b"),Object(I["a"])(Et,At,yt,!1,null,"566323fa",null)),St=Ft.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("SeccionTitulos",{attrs:{caso:"Freatímetro",icon:"ruler-vertical",productor:t.NombreProductor(),establecimiento:t.NombreEstablecimiento()}}),a("div",{staticClass:"SeccionLatLon cP",on:{click:function(e){return e.stopPropagation(),t.EditarFreatimetro()}}},[a("span",[t._v("Editar coordenadas ")]),a("font-awesome-icon",{staticClass:"h100 IconoEditar",class:{Titilando:t.Titilando()},style:{color:"#348E54"},attrs:{icon:"edit",size:"4x"}})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData",class:{Visible:!t.DataActualizada}},[a("div",{staticClass:"fLeft"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"})]),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.RefrescarInfo(t.InfoFreatimetro._IdFreatimetro)}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",[t._v("Valor")]),a("th",[t._v("Fecha")]),a("th",{staticClass:"pR"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:this.$parent.Datos.AdminLogueado(),expression:"this.$parent.Datos.AdminLogueado()"}],staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoRegistro()}}})],1)])]),a("tbody",t._l(t.RegistrosPag,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"c1"},[t._v(t._s(e._Valor)+" m")]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",{staticClass:"c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarRegistro(e._Id,t.InfoFreatimetro._IdFreatimetro)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id<=0,expression:"p._Id <= 0"}],staticClass:"h100 IconoEliminar cP fa fa-spinner fa-spin",style:{color:"#000000"},attrs:{icon:"spinner",size:"4x"}})],1)])})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.MostrarSinRegistros,expression:"this.MostrarSinRegistros"}],staticClass:"SinRegistros"},[t._v(" Aún no hay registros... ")]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}}),t.DataEjeX.length>0?a("GraficoLineal",{attrs:{TituloEjeY:"ml",DataEjeX:this.DataEjeX,DataEjeY:this.DataEjeY}}):t._e(),a("div",{staticClass:"BotonVerMapa dIB",on:{click:function(e){return t.ClickVerMapa()}}},[t._v("Ver Mapa")])],1)},Lt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"},[t._v("Nuevo registro")])])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Valor,expression:"Valor"}],ref:"Valor",attrs:{type:"number",placeholder:"Valor"},domProps:{value:t.Valor},on:{input:function(e){e.target.composing||(t.Valor=e.target.value)}}}),a("label",[t._v("Valor")])])])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.Aceptar()}}},[t._v("Aceptar")])])])])},Nt=[],Mt={name:"ModalNuevoRegistroFreatimetro",data(){return{FechaAlta:new h.a.Fecha,Valor:"",_IdFreatimetro:0}},mounted(){},created(){},methods:{Setear(t){this._IdFreatimetro=t},Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async Aceptar(){try{await this.SolicitoAltaRegistroFreatimetro(),this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.RefrescarInfo(this._IdFreatimetro)}catch(t){console.log(t)}},async SolicitoAltaRegistroFreatimetro(){try{var t={IdUsuario:this.$parent.$parent.Datos._User._ID,IdFreatimetro:this._IdFreatimetro,Valor:this.Valor,Fecha:(new h.a.Fecha).Paquete()};await f.a.IntentoAltaRegistroFreatimetro(t,!0,this.$parent.$parent)}catch(e){console.error(e)}},LimpiarDatos(){this.Valor=""}}},Ut=Mt,kt=(a("c193"),Object(I["a"])(Ut,Vt,Nt,!1,null,"0f8a8dea",null)),xt=kt.exports,Ot={name:"Freatimetro",data(){return{InfoFreatimetro:null,RegistrosPag:[],MostrarSinRegistros:!1,DataActualizada:!0,_UserOk:!1,Error:null,ModalVisible:!1,DataEjeX:[],DataEjeY:[],currentPage:0,totalPages:0,ItemsPorPagina:5,RecalcularPaginado(t){this.totalPages=Math.ceil(t._Registros.length/this.ItemsPorPagina);var e=[];for(let a=0;a<t._Registros.length;a++)a>=(this.currentPage-1)*this.ItemsPorPagina&&a<this.currentPage*this.ItemsPorPagina&&e.push(t._Registros[a]);this.RegistrosPag=e,this.MostrarSinRegistros=this.RegistrosPag.length<=0},NombreProductor(){return null!=this.InfoFreatimetro?this.InfoFreatimetro._Productor:""},NombreEstablecimiento(){return null!=this.InfoFreatimetro?this.InfoFreatimetro._Establecimiento:""},Online(){return this.$parent.Datos.AppOnline()},AdminLogueado(){return this.$parent.Datos.AdminLogueado()},Titilando(){return!(!this.InfoFreatimetro||""!=this.InfoFreatimetro._Latitud&&""!=this.InfoFreatimetro._Longitud)}}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&this.RefrescarInfo(this.$route.params.Id)},methods:{RefrescarInfo(t){this.VistaActual(t)&&this.IntentoObtenerDataDeCache(t),f.a.ObtenerRegistrosFreatimetro(t,this)},VistaActual(t){return this.$route.params.Id==t&&"Freatimetro"==this.$route.name},AuxiliaresVista(t){this.VistaActual(t)&&(this.currentPage=1,this.AgregarPendientes(t),this.RecalcularPaginado(this.InfoFreatimetro),this.ActualizarDataGrafico())},AgregarPendientes(t){var e=h.a.RecuperarJsonDeStorage(this.KeyRegistrosPendientes(t));null!=e&&e.forEach(t=>{t={_Id:0,_Valor:t.Valor,_FechaAlta:(new h.a.Fecha)._Fecha};this.InfoFreatimetro._Registros.unshift(t)})},IntentoObtenerDataDeCache(t){try{var e=h.a.RecuperarJsonDeStorage(f.a.KeyDataCacheadaFreatimetros(t));null!=e&&(this.InfoFreatimetro=e._Json,this.$refs.FechaData.innerHTML=e._Fecha._FechaYHora)}catch(a){console.log(a)}},KeyRegistrosPendientes(t){return f.a._KeyRegistrosPendientesGeneralFreatimetros+t},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado(this.InfoFreatimetro)},ActualizarDataGrafico(){var t=[],e=[];if(this.InfoFreatimetro)for(let a=0;a<10;a++){const o=this.InfoFreatimetro._Registros[a];o?(t.push(o._FechaAlta),e.push(o._Valor)):(t.push("-"),e.push(0))}t.reverse(),e.reverse(),this.DataEjeX=t,this.DataEjeY=e},NuevoRegistro(){this.$refs.Modal.Setear(this.InfoFreatimetro._IdFreatimetro),this.VerModal()},VerModal(){this.ModalVisible=!0,setTimeout(()=>{this.$refs.Modal.$refs.Valor.focus()},200)},CerrarModal(){this.ModalVisible=!1},EditarFreatimetro(){this.ModalEdicionVisible=!0,this.$refs.ModalEdicion.Editar(this.InfoFreatimetro,this.InfoFreatimetro._IdFreatimetro,2)},CerrarModalEdicion(){this.ModalEdicionVisible=!1},SetearNuevasCoordenadas(t,e){this.InfoFreatimetro._Latitud=t,this.InfoFreatimetro._Longitud=e},EliminarRegistro(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el registro?",button:{yes:"Si",no:"No"},callback:o=>{o&&u.a.post(a.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaRegistroFreatimetro",{IdUsuario:a.$parent.Datos._User._ID,IdRegistro:t}).then((function(t){a.$parent.Notificacion("Registro eliminado!","","success",3),a.RefrescarInfo(e)})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})},ClickVerMapa(){this.$router.push("/vermapa?t=2&idpres="+this.$route.params.Id)}},components:{SlidingPagination:q.a,Modal:xt,GraficoLineal:ct,SeccionTitulos:ft,ModalEdicion:Ct}},Tt=Ot,zt=(a("06ca"),Object(I["a"])(Tt,Rt,Lt,!1,null,"aef776e8",null)),jt=zt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloMapa"},[t._v(" "+t._s(t.TituloMapa)+" ")]),a("gmap-map",{ref:"gmap",staticStyle:{width:"100%",height:"calc(100vh - 100px)"},attrs:{center:t.center,"map-type-id":t.mapTypeId,options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUI:!1}}},[t._l(t.markers,(function(e,o){return a("gmap-marker",{key:o,attrs:{position:e.position},on:{click:function(a){return t.toggleInfoWindow(e)}}})})),a("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(e){t.infoWinOpen=!1}}},[a("div",{domProps:{innerHTML:t._s(t.infoContent)}}),t.DataEjeX.length>0?a("GraficoLineal",{attrs:{TituloEjeY:"ml",DataEjeX:t.DataEjeX,DataEjeY:t.DataEjeY}}):t._e()],1)],2)],1)},Gt=[];const Kt=a("1b5f");var Jt={name:"GoogleMap",components:{apexcharts:it.a},data(){return{TituloMapa:"",_Tipo:1,map:null,mapTypeId:"hybrid",infoContent:"",center:{lat:-31.09,lng:-61.902},infoWindowPos:{lat:0,lng:0},infoWinOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:-35}},markers:[],Registros:[],DataEjeX:[],DataEjeY:[]}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&this.ObtenerDatos(),this.TituloMapa="Pluviómetros",2==this.$route.query.t&&(this.TituloMapa="Freatímetros")},methods:{async ObtenerDatos(){var t=this,e=this.$parent.Datos.UrlPosts()+"/AgroIdeas/MapaPluviometros";2==this.$route.query.t&&(e=this.$parent.Datos.UrlPosts()+"/AgroIdeas/MapaFreatimetros");var a=null;try{await u.a.post(e,{IdUsuario:t.$parent.Datos._User._ID}).then((function(e){a=e.data,Kt.GuardarJsonEnStorage(t.ObtenerKey(),a)})).catch((function(t){console.log(t)})).then((function(){})),null==a&&(a=Kt.RecuperarJsonDeStorage(this.ObtenerKey())),null!=a&&this.AuxiliarSetearData(a)}catch(o){console.log(o)}if(this.$route.query.idpres){let t=this.markers.find(t=>t.id==this.$route.query.idpres),e=this;t&&setTimeout(()=>{e.toggleInfoWindow(t)},300)}},ObtenerKey(){var t="InfoMapa-"+this.$parent.Datos._User._ID+"-"+this.$route.query.t;return t},AuxiliarSetearData(t){let e=[];this.Registros=[],t.forEach(t=>{this.Registros[t._Id]=t._Registros;let a=new Kt.GeoLocation;a.lat=parseFloat(t._Geo._Lat),a.lng=parseFloat(t._Geo._Lng);let o=new Kt.Marcador;o.id=t._Id,o.name=t._NombreProductor,o.localidad=t._Localidad,o.description=t._Establecimiento,o.position=a,e.push(o)}),this.markers=e,this.CargarMarcadores()},CargarMarcadores(){try{this.$refs.gmap.$mapPromise.then(t=>{const e=new google.maps.LatLngBounds;for(let a of this.markers)e.extend(a.position);t.fitBounds(e),setTimeout(()=>{t.setZoom(9)},10)})}catch(t){console.log(t)}},ActualizarGrafico(t){var e=[],a=[];t&&t.forEach(t=>{e.push(t._FechaAlta),a.push(t._Valor)}),e.reverse(),a.reverse(),e=e.slice(0,7),a=a.slice(0,7);var o=e.length;for(let i=o;i<7;i++)e.push("-");o=a.length;for(let i=o;i<7;i++)a.push(0);this.DataEjeY=a,this.DataEjeX=e},toggleInfoWindow(t){this.infoWindowPos=t.position,this.infoContent=this.getInfoWindowContent(t),this.currentMidx==t.id?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t.id,this.Registros[t.id].length>0?this.ActualizarGrafico(this.Registros[t.id]):this.ActualizarGrafico([]))},getInfoWindowContent:function(t){return`<div class="card">\n                <div class="card-content">\n                  <div class="media">\n                    <div class="media-content">\n                      ${t.id} - ${t.name}, ${t.localidad}\n                    </div>\n                  </div>\n                  <div class="content">\n                    ${t.description}\n                  </div>\n                </div>\n              </div>`}},components:{GraficoLineal:ct}},Ht=Jt,qt=(a("32ea"),Object(I["a"])(Ht,Bt,Gt,!1,null,null,null)),Yt=qt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido oHidden"},[a("ModalNuevoProductor",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],on:{Cerrar:t.CerrarModal}}),a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"users",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Productores")]),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"table-wrapper"},[a("table",{staticClass:"fl-table"},[a("thead",[a("tr",[a("th",{staticClass:"c1"},[t._v("Nombre")]),a("th",{staticClass:"c2"},[t._v("Localidad")]),a("th",{staticClass:"c3"},[t._v("Telefono")]),a("th",{staticClass:"pR c4"},[a("font-awesome-icon",{staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.VerModal()}}})],1)])]),a("tbody",t._l(t.Productores,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerEstablecimientos(e._Id)}}},[a("td",{staticClass:"c1"},[t._v(t._s(e._Apellido)+", "+t._s(e._Nombre))]),a("td",{staticClass:"c2"},[t._v(t._s(e._Localidad))]),a("td",{staticClass:"c3"},[t._v(t._s(e._Telefono))]),a("td",{staticClass:"c4"},[a("font-awesome-icon",{staticClass:"h100 IconoEliminar",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarProductor(e._Id,e._Nombre+" "+e._Apellido)}}})],1)])})),0),a("tbody")])]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}})],1)},Xt=[],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[t._v(" Nuevo Productor ")])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Nombre,expression:"Nombre"}],attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.Nombre},on:{input:function(e){e.target.composing||(t.Nombre=e.target.value)}}}),a("label",[t._v("Nombre")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Apellido,expression:"Apellido"}],attrs:{type:"text",placeholder:"Apellido"},domProps:{value:t.Apellido},on:{input:function(e){e.target.composing||(t.Apellido=e.target.value)}}}),a("label",[t._v("Apellido")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Localidad,expression:"Localidad"}],attrs:{type:"text",placeholder:"Localidad"},domProps:{value:t.Localidad},on:{input:function(e){e.target.composing||(t.Localidad=e.target.value)}}}),a("label",[t._v("Localidad")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Telefono,expression:"Telefono"}],attrs:{type:"text",placeholder:"Telefono"},domProps:{value:t.Telefono},on:{input:function(e){e.target.composing||(t.Telefono=e.target.value)}}}),a("label",[t._v("Telefono")])])])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.AgregarProductor()}}},[t._v("Aceptar")])])])])},Qt=[],te={name:"ModalNuevoProductor",data(){return{Nombre:"",Apellido:"",Localidad:"",Telefono:""}},mounted(){},methods:{Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async AgregarProductor(){try{var t=this.Nombre.trim(),e=this.Apellido.trim(),a=this.Localidad.trim(),o=this.Telefono.trim();this.Validaciones(t,e,a,o)&&await this.SolicitoAltaProductor(t,e,a,o)&&(this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.ObtenerDatos())}catch(i){console.error(i)}},async SolicitoAltaProductor(t,e,a,o){var i=!1;try{var s=this,r=s.$parent.$parent.Datos._User;await u.a.post(s.$parent.$parent.Datos.UrlPosts()+"/AgroIdeas/AgregarProductor",{IdUsuario:r._ID,InfoProductor:{Nombre:t,Apellido:e,Localidad:a,Telefono:o}}).then((function(t){if(void 0!=t.data._Nick){var e="<br/><u>Nick:</u> "+t.data._Nick;e+="<br/><u>Pass:</u> 123456",s.Notificacion(t.data._Mensaje,e,"success",20),i=!0}else s.Notificacion("El usuario ya existe!","","error",3)})).catch((function(t){console.log(t)})).then((function(){console.log("---")}))}catch(n){console.error(n)}return i},Validaciones(t,e,a,o){var i=!0;try{t.length<2&&(this.$notify({group:"Notificaciones",title:"Nombre inválido!",type:"error",speed:500,duration:3e3}),i=!1),e.length<2&&(this.$notify({group:"Notificaciones",title:"Apellido inválido!",type:"error",speed:500,duration:3e3}),i=!1),a.length<2&&(this.$notify({group:"Notificaciones",title:"Localidad inválida!",type:"error",speed:500,duration:3e3}),i=!1),o.length<2&&(this.$notify({group:"Notificaciones",title:"Telefono inválido!",type:"error",speed:500,duration:3e3}),i=!1)}catch(s){console.error(s)}return i},Notificacion(t,e,a,o){this.$notify({group:"Notificaciones",title:t,type:a,speed:500,duration:1e3*o,text:e})},LimpiarDatos(){this.Nombre="",this.Apellido="",this.Localidad="",this.Telefono=""}}},ee=te,ae=(a("9c79"),Object(I["a"])(ee,Zt,Qt,!1,null,"3ccdb08e",null)),oe=ae.exports,ie={name:"Productores",data(){return{Productores:null,ProductoresFull:null,_UserOk:!1,Error:null,ModalVisible:!1,currentPage:0,totalPages:0,ItemsPorPagina:10,RecalcularPaginado(){this.Productores=[],this.totalPages=Math.ceil(this.ProductoresFull.length/this.ItemsPorPagina);for(let t=0;t<this.ProductoresFull.length;t++)t>=(this.currentPage-1)*this.ItemsPorPagina&&t<this.currentPage*this.ItemsPorPagina&&this.Productores.push(this.ProductoresFull[t])}}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&this.$parent.Datos.AdminLogueado()?this.ObtenerDatos():this.$router.push("/")},methods:{ObtenerDatos(){var t=this,e=t.$parent.Datos._User;u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Productores",{IdUsuario:e._ID}).then((function(e){t.ProductoresFull=e.data,t.currentPage=1,t.RecalcularPaginado()})).catch((function(e){t.Error=e})).then((function(){}))},ClickNuevo(){this.$notify({group:"Notificaciones",title:"Productor agregado!",type:"success",speed:500,duration:3e3})},VerModal(){this.ModalVisible=!0},CerrarModal(){this.ModalVisible=!1},EliminarProductor(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar a "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&u.a.post(a.$parent.Datos.UrlPosts()+"/AgroIdeas/EliminarProductor",{IdUsuario:a.$parent.Datos._User._ID,IdProductor:t}).then((function(t){a.$parent.Notificacion("Productor eliminado!","","success",3),a.ObtenerDatos()})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})},VerEstablecimientos(t){this.$router.push("/establecimientos/"+t)},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado()}},components:{ModalNuevoProductor:oe,SlidingPagination:q.a}},se=ie,re=(a("3212"),Object(I["a"])(se,Wt,Xt,!1,null,"1e226980",null)),ne=re.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("ModalNuevoEstablecimiento",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"users",size:"4x"}}),a("div",{staticClass:"fLeft"},[a("b",[t._v(t._s(t.RetornoAPI._NombreProductor))])]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",[t._v("Establecimiento")]),a("th",{staticClass:"pR"},[a("font-awesome-icon",{staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoEstablecimiento()}}})],1)])]),a("tbody",t._l(t.RetornoAPI._Establecimientos,(function(e){return a("tr",{key:e._Id},[a("td",{on:{click:function(a){return a.stopPropagation(),t.ClickMenu(e._Id)}}},[t._v(t._s(e._Nombre)+", "+t._s(e._Localidad))]),a("td",{directives:[{name:"show",rawName:"v-show",value:t.AdminLogueado,expression:"AdminLogueado"}],staticClass:"c3"},[a("font-awesome-icon",{staticClass:"h100 IconoEliminar cP",style:{color:"#348E54"},attrs:{icon:"edit",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EditarEstablecimiento(e)}}}),a("font-awesome-icon",{staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarEstablecimiento(e)}}}),a("div",{staticClass:"MenuOpciones"},[a("font-awesome-icon",{staticClass:"h100 IconoEliminar cP",style:{color:"#000"},attrs:{icon:"ellipsis-h",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.ClickMenu(e._Id)}}}),a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.OcultarMenu,expression:"OcultarMenu"}],staticClass:"ContenidoMenu",class:{Visible:t.IdMenuVisible==e._Id}},[a("div",{staticClass:"SeccionArrastre"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Pluviometro._ID>0,expression:"Est._Pluviometro._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.VerPluviometro(e._Pluviometro._ID)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#22878E"},attrs:{icon:"eye",size:"1x"}}),t._v(" Ver Pluviómetro")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Pluviometro._ID<=0,expression:"Est._Pluviometro._ID <= 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.AltaPluviometro(e._Id)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#359122"},attrs:{icon:"plus-circle",size:"1x"}}),t._v(" Agregar Pluviómetro")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Freatimetro._ID>0,expression:"Est._Freatimetro._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.VerFreatimetro(e._Freatimetro._ID)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#22878E"},attrs:{icon:"eye",size:"1x"}}),t._v(" Ver Freatímetro ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Freatimetro._ID<=0,expression:"Est._Freatimetro._ID <= 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.AltaFreatimetro(e._Id)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#359122"},attrs:{icon:"plus-circle",size:"1x"}}),t._v(" Agregar Freatímetro ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Veris._ID>0,expression:"Est._Veris._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.VerVeris(e._Veris._ID)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#22878E"},attrs:{icon:"eye",size:"1x"}}),t._v(" Ver Ambientación ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Veris._ID<=0,expression:"Est._Veris._ID <= 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.AltaVeris(e._Id)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#359122"},attrs:{icon:"plus-circle",size:"1x"}}),t._v(" Agregar Ambientación ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisAgua._ID>0,expression:"Est._AnalisisAgua._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.VerAguas(e._AnalisisAgua._ID)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#22878E"},attrs:{icon:"eye",size:"1x"}}),t._v(" Ver Análisis Agua Útil ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisAgua._ID<=0,expression:"Est._AnalisisAgua._ID <= 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.AltaAguas(e._Id)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#359122"},attrs:{icon:"plus-circle",size:"1x"}}),t._v(" Agregar Análisis Agua Útil ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisSuelo._ID>0,expression:"Est._AnalisisSuelo._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.VerSuelo(e._AnalisisSuelo._ID)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#22878E"},attrs:{icon:"eye",size:"1x"}}),t._v(" Ver Análisis Suelo ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisSuelo._ID<=0,expression:"Est._AnalisisSuelo._ID <= 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.AltaSuelo(e._Id)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#359122"},attrs:{icon:"plus-circle",size:"1x"}}),t._v(" Agregar Análisis Suelo ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Pluviometro._ID>0||e._Freatimetro._ID>0,expression:"(Est._Pluviometro._ID > 0) || (Est._Freatimetro._ID > 0)"}],staticClass:"DivSeparador"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Pluviometro._ID>0,expression:"Est._Pluviometro._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.ConfirmarBajaPluviometro(e._Pluviometro._ID,e._Nombre+", "+e._Localidad)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"1x"}}),t._v(" Eliminar Pluviómetro ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Freatimetro._ID>0,expression:"Est._Freatimetro._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.ConfirmarBajaFreatimetro(e._Freatimetro._ID,e._Nombre+", "+e._Localidad)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"1x"}}),t._v(" Eliminar Freatímetro ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._Veris._ID>0,expression:"Est._Veris._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.ConfirmarBajaVeris(e._Veris._ID,e._Nombre+", "+e._Localidad)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"1x"}}),t._v(" Eliminar Ambientación ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisAgua._ID>0,expression:"Est._AnalisisAgua._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.ConfirmarBajaAguas(e._AnalisisAgua._ID,e._Nombre+", "+e._Localidad)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"1x"}}),t._v(" Eliminar Análisis Agua Útil ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e._AnalisisSuelo._ID>0,expression:"Est._AnalisisSuelo._ID > 0"}],staticClass:"OpcionMenu",on:{click:function(a){return a.stopPropagation(),t.ConfirmarBajaSuelo(e._AnalisisSuelo._ID,e._Nombre+", "+e._Localidad)}}},[a("font-awesome-icon",{staticClass:"IconoFontChico",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"1x"}}),t._v(" Eliminar Análisis Suelo ")],1)])],1)],1)])})),0)])],1)},le=[],ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"})])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InfoEstablecimiento._Nombre,expression:"InfoEstablecimiento._Nombre"}],attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.InfoEstablecimiento._Nombre},on:{input:function(e){e.target.composing||t.$set(t.InfoEstablecimiento,"_Nombre",e.target.value)}}}),a("label",[t._v("Nombre")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InfoEstablecimiento._Localidad,expression:"InfoEstablecimiento._Localidad"}],attrs:{type:"text",placeholder:"Localidad"},domProps:{value:t.InfoEstablecimiento._Localidad},on:{input:function(e){e.target.composing||t.$set(t.InfoEstablecimiento,"_Localidad",e.target.value)}}}),a("label",[t._v("Localidad")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InfoEstablecimiento._Latitud,expression:"InfoEstablecimiento._Latitud"}],attrs:{type:"text",placeholder:"Latitud"},domProps:{value:t.InfoEstablecimiento._Latitud},on:{input:function(e){e.target.composing||t.$set(t.InfoEstablecimiento,"_Latitud",e.target.value)}}}),a("label",[t._v("Latitud (ej: -31.0302)")])]),a("div",{staticClass:"field-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InfoEstablecimiento._Longitud,expression:"InfoEstablecimiento._Longitud"}],attrs:{type:"text",placeholder:"Longitud"},domProps:{value:t.InfoEstablecimiento._Longitud},on:{input:function(e){e.target.composing||t.$set(t.InfoEstablecimiento,"_Longitud",e.target.value)}}}),a("label",[t._v("Longitud (ej: -31.0302)")])])])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.Aceptar()}}},[t._v("Aceptar")])])])])},de=[],he={name:"ModalNuevoEstablecimiento",data(){return{InfoEstablecimiento:{_Id:0,_IdProductor:0,_Nombre:"",_Localidad:"",_Latitud:"",_Longitud:""},_Caso:1}},mounted(){},created(){},methods:{Cerrar(){this.$emit("Cerrar")},ClickOutside(){2==this._Caso&&this.LimpiarDatos(),this.$emit("Cerrar")},Editar(t){this.$refs.Titulo.innerHTML="Editando...",this._Caso=2,this.InfoEstablecimiento._Id=t._Id,this.InfoEstablecimiento._IdProductor=0,this.InfoEstablecimiento._Nombre=t._Nombre,this.InfoEstablecimiento._Localidad=t._Localidad,this.InfoEstablecimiento._Latitud=t._Latitud,this.InfoEstablecimiento._Longitud=t._Longitud},SetearPorNuevo(t){this.InfoEstablecimiento._IdProductor=t,this.$refs.Titulo.innerHTML="Nuevo...",this._Caso=1},async Aceptar(){try{if(this.InfoEstablecimiento._Nombre=this.InfoEstablecimiento._Nombre.trim(),this.InfoEstablecimiento._Localidad=this.InfoEstablecimiento._Localidad.trim(),this.InfoEstablecimiento._Latitud=this.InfoEstablecimiento._Latitud.trim().ObtenerNumero(),this.InfoEstablecimiento._Longitud=this.InfoEstablecimiento._Longitud.trim().ObtenerNumero(),this.Validaciones())switch(this._Caso){case 1:await this.SolicitoAltaEstablecimiento()&&(this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.ObtenerDatos());break;default:await this.SolicitoEdicionEstablecimiento()&&(this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.ObtenerDatos());break}}catch(t){console.error(t)}},async SolicitoAltaEstablecimiento(){var t=!1;try{var e=this,a=e.$parent.$parent.Datos._User;await u.a.post(e.$parent.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaEstablecimiento",{IdUsuario:a._ID,InfoEstablecimiento:e.InfoEstablecimiento}).then((function(a){""==a.data?(t=!0,e.$parent.$parent.Notificacion("Establecimiento creado!","","success",3)):e.$parent.$parent.Notificacion(a.data,"","error",3)})).catch((function(t){console.log(t),e.$parent.$parent.Notificacion("Error!","","error",3)})).then((function(){}))}catch(o){console.error(o)}return t},async SolicitoEdicionEstablecimiento(){var t=!1;try{var e=this,a=e.$parent.$parent.Datos._User;await u.a.post(e.$parent.$parent.Datos.UrlPosts()+"/AgroIdeas/EdicionEstablecimiento",{IdUsuario:a._ID,InfoEstablecimiento:e.InfoEstablecimiento}).then((function(a){""!=a.data?(e.$parent.$parent.Notificacion(a.data,"","success",3),t=!0):e.$parent.$parent.Notificacion("Error1!","","error",3)})).catch((function(t){console.log(t),e.$parent.$parent.Notificacion("Error!","","error",3)})).then((function(){console.log("---")}))}catch(o){console.error(o)}return t},Validaciones(){var t=!0;try{this.InfoEstablecimiento._Nombre.length<2&&(this.$notify({group:"Notificaciones",title:"Nombre inválido!",type:"error",speed:500,duration:3e3}),t=!1),this.InfoEstablecimiento._Localidad.length<2&&(this.$notify({group:"Notificaciones",title:"Localidad inválida!",type:"error",speed:500,duration:3e3}),t=!1),this.InfoEstablecimiento._Latitud.length<2&&(this.$notify({group:"Notificaciones",title:"Latitud inválida!",type:"error",speed:500,duration:3e3}),t=!1),this.InfoEstablecimiento._Longitud.length<2&&(this.$notify({group:"Notificaciones",title:"Longitud inválido!",type:"error",speed:500,duration:3e3}),t=!1)}catch(e){console.error(e)}return t},LimpiarDatos(){this.InfoEstablecimiento._Nombre="",this.InfoEstablecimiento._Localidad="",this.InfoEstablecimiento._Latitud="",this.InfoEstablecimiento._Longitud=""}}},me=he,fe=(a("0325"),Object(I["a"])(me,ue,de,!1,null,"92fb8d00",null)),pe=fe.exports,ge={name:"Establecimientos",directives:{clickoutside:{bind:function(t,e){const a=a=>{t.contains(a.target)||t===a.target||e.value(a)};t.__vueClickEventHandler__=a,document.addEventListener("click",a)},unbind:function(t){document.removeEventListener("click",t.__vueClickEventHandler__)}}},data(){return{RetornoAPI:{_NombreProductor:""},ModalVisible:!1,IdMenuVisible:0,_UserOk:!1,Error:null,AdminLogueado:!1}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.AdminLogueado=this.$parent.Datos.AdminLogueado(),this.AdminLogueado&&this.ObtenerDatos())},methods:{ObtenerDatos(){var t=this;try{u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Establecimientos",{IdUsuario:t.$parent.Datos._User._ID,IdProductor:t.$route.params.Id}).then((function(e){t.RetornoAPI=e.data,t.GuardarDataEnCache(t.RetornoAPI),t.$refs.DivInfoData.classList.remove("Visible")})).catch((function(e){t.$refs.DivInfoData.classList.add("Visible")})).then((function(){}))}catch(e){console.log(e)}},IntentoObtenerDataDeCache(){var t=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada());null!=t&&(this.RetornoAPI=t._Json,this.$refs.FechaData.innerHTML=t._Fecha._FechaYHora)},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(),e)},KeyDataCacheada(){return"InfoEstablecimientos"+this.$parent.Datos._User._ID},VerModal(){this.ModalVisible=!0},CerrarModal(){this.ModalVisible=!1},NuevoEstablecimiento(){this.$refs.Modal.SetearPorNuevo(this.RetornoAPI._IdProductor),this.VerModal()},EditarEstablecimiento(t){this.ModalVisible=!0,this.$refs.Modal.Editar(t)},EliminarEstablecimiento(t){var e=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el establecimiento "+t._Nombre+"?",button:{yes:"Si",no:"No"},callback:a=>{a&&u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaEstablecimiento",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t._Id}).then((function(t){""!=t.data?(e.$parent.Notificacion(t.data,"","success",3),e.ObtenerDatos()):e.$parent.Notificacion("Error1!","","error",3)})).catch((function(t){e.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})},OcultarMenu(){this.IdMenuVisible=0},ClickMenu(t){this.IdMenuVisible=t},VerPluviometro(t){this.$router.push("/pluviometro/"+t)},VerFreatimetro(t){this.$router.push("/freatimetro/"+t)},AltaPluviometro(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaPluviometro",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Pluviómetro agregado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},ConfirmarBajaPluviometro(t,e){this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el Pluviómetro de "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&this.BajaPluviometro(t)}})},BajaPluviometro(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaPluviometro",{IdUsuario:e.$parent.Datos._User._ID,IdPluviometro:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Pluviómetro eliminado!","","success",3)})).catch((function(t){console.log(t.response),console.log(t.toString()),console.log(t.toString().includes("Network error"))})).then((function(){}))}catch(a){console.log(a)}},AltaFreatimetro(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaFreatimetro",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Freatímetro agregado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},ConfirmarBajaFreatimetro(t,e){this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el Freatímetro de "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&this.BajaFreatimetro(t)}})},BajaFreatimetro(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaFreatimetro",{IdUsuario:e.$parent.Datos._User._ID,IdFreatimetro:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Pluviómetro eliminado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},VerVeris(t){this.$router.push("/veris/"+t)},AltaVeris(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaVeris",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Veris agregado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},ConfirmarBajaVeris(t,e){this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el Veris de "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&this.BajaVeris(t)}})},BajaVeris(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaVeris",{IdUsuario:e.$parent.Datos._User._ID,IdVeris:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Veris eliminado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},VerAguas(t){this.$router.push("/aguas/"+t)},AltaAguas(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaAguas",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Análisis Agua agregado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},ConfirmarBajaAguas(t,e){this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el Análisis Agua de "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&this.BajaAguas(t)}})},BajaAguas(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaAguas",{IdUsuario:e.$parent.Datos._User._ID,Id:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Análisis Agua eliminado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},VerSuelo(t){this.$router.push("/suelos/"+t)},AltaSuelo(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/AltaSuelo",{IdUsuario:e.$parent.Datos._User._ID,IdEstablecimiento:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Análisis Suelo agregado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}},ConfirmarBajaSuelo(t,e){this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el Análisis Suelo de "+e+"?",button:{yes:"Si",no:"No"},callback:e=>{e&&this.BajaSuelo(t)}})},BajaSuelo(t){var e=this;try{u.a.post(e.$parent.Datos.UrlPosts()+"/AgroIdeas/BajaSuelo",{IdUsuario:e.$parent.Datos._User._ID,Id:t}).then((function(t){e.ObtenerDatos(),e.$parent.Notificacion("Análisis Suelo eliminado!","","success",3)})).catch((function(t){console.error(t)})).then((function(){}))}catch(a){console.log(a)}}},components:{ModalNuevoEstablecimiento:pe,SlidingPagination:q.a}},ve=ge,_e=(a("0a07"),Object(I["a"])(ve,ce,le,!1,null,"6ae532a8",null)),Ie=_e.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"images",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Informes de Ambientación")]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[t._m(0),a("tbody",t._l(t.Registros,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerRegistro(e._Id)}}},[a("td",[t._v(t._s(e._NombreProductor))]),a("td",[t._v(t._s(e._NombreEstablecimiento))]),a("td",[t._v(t._s(e._Localidad))])])})),0)]),a("br"),a("br"),a("router-link",{staticClass:"BotonVerMapa dIB",attrs:{to:"/VerMapa"}},[t._v("Ver Mapa")])],1)},Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Productor")]),a("th",[t._v("Establ.")]),a("th",[t._v("Localidad")])])])}],De={name:"Veris",data(){return{Registros:null,_UserOk:!1,Error:null}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.IntentoObtenerDataDeCache(),this.ObtenerDatos())},methods:{ObtenerDatos(){var t=this;try{u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Veris",{IdUsuario:t.$parent.Datos._User._ID}).then((function(e){t.Registros=e.data,t.GuardarDataEnCache(t.Registros),t.$refs.DivInfoData.classList.remove("Visible")})).catch((function(e){t.$refs.DivInfoData.classList.add("Visible")})).then((function(){}))}catch(e){console.log(e)}},VerRegistro(t){this.$router.push("/veris/"+t)},IntentoObtenerDataDeCache(){var t=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada());null!=t&&(this.Registros=t._Json,this.$refs.FechaData.innerHTML=t._Fecha._FechaYHora)},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(),e)},KeyDataCacheada(){return"InfoVeris"+this.$parent.Datos._User._ID}},components:{}},be=De,we=(a("a0d7"),Object(I["a"])(be,Ce,Pe,!1,null,"54d2c839",null)),Ae=we.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("ModalNuevoRegistroVeris",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("SeccionTitulos",{attrs:{caso:"Informes de Ambientación",icon:"images",productor:t.NombreProductor(),establecimiento:t.NombreEstablecimiento()}}),a("div",{ref:"DivInfoData",staticClass:"DivInfoData",class:{Visible:!t.DataActualizada}},[a("div",{staticClass:"fLeft"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"})]),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.RefrescarInfo(t.InfoVeris._IdVeris)}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",{staticClass:"c1"},[t._v("Valor")]),a("th",[t._v("Fecha")]),a("th",{staticClass:"pR c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:this.$parent.Datos.AdminLogueado(),expression:"this.$parent.Datos.AdminLogueado()"}],staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoRegistro()}}})],1)])]),a("tbody",t._l(t.RegistrosPag,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"c1"},[a("span",{on:{click:function(a){return t.VerReportePDF(e)}}},[a("u",[t._v("Ver Reporte")])])]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",{staticClass:"c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarRegistro(e._Id,t.InfoVeris._IdVeris)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id<=0,expression:"p._Id <= 0"}],staticClass:"h100 IconoEliminar cP fa fa-spinner fa-spin",style:{color:"#000000"},attrs:{icon:"spinner",size:"4x"}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#444"},attrs:{icon:"download",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.DownloadPDF(e)}}})],1)])})),0),a("tbody")]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.MostrarSinRegistros,expression:"this.MostrarSinRegistros"}],staticClass:"SinRegistros"},[t._v(" Aún no hay registros... ")]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}}),a("div",{ref:"TituloPDF",staticClass:"TituloPDF"}),t._l(t.NumPagesPDF,(function(e){return a("pdf",{key:e,attrs:{page:e,src:t.SrcPDF}})})),a("br"),a("br")],2)},$e=[],Ee=a("858e"),Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"},[t._v("Nuevo registro")])])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("FileUploadVeris",{ref:"FileUploadVeris",on:{SubmitFormData:function(e){return t.SubmitFormData()}}})],1)])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.SubmitFormData()}}},[t._v("Aceptar")])])])])},Se=[],Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"file"},[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"fields"},[a("input",{ref:"file",attrs:{type:"file"},on:{change:t.onSelect}})]),a("div",{staticClass:"message"},[a("h5",[t._v(t._s(t.message))])])])])},Le=[],Ve={name:"FileUpload",data(){return{file:"",message:""}},computed:{BotonPermitido(){return""==!this.message}},methods:{async onSelect(){if(this.$refs.file){const t=["application/pdf"],e=this.$refs.file.files[0];this.file=e,this.message="",t.includes(e.type)?e.size>1048576&&(this.message="Sólo se aceptan PDFs de hasta 1Mb!"):this.message="Sólo se aceptan PDFs!"}}}},Ne=Ve,Me=(a("281f"),Object(I["a"])(Ne,Re,Le,!1,null,"27020515",null)),Ue=Me.exports,ke={name:"ModalNuevoRegistroVeris",data(){return{FechaAlta:new h.a.Fecha,Valor:"",_IdVeris:0}},mounted(){},created(){},methods:{BotonPermitido(){return""==!this.$refs.FileUploadVeris.message},Setear(t){this._IdVeris=t},Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async SubmitFormData(){var t=this;try{if(""!=this.$refs.FileUploadVeris.message)return;if(""==this.$refs.FileUploadVeris.file)return void t.$parent.$parent.Notificacion("Selecciona un archivo!","","error",3);var e=new FormData;e.append("file",this.$refs.FileUploadVeris.file),e.append("IdUsuario",this.$parent.$parent.Datos._User._ID),e.append("Id",this._IdVeris),e.append("Caso","Veris"),e.append("Fecha",(new h.a.Fecha).Paquete()),await this.SolicitoAltaRegistro(e),this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.RefrescarInfo(this._IdVeris)}catch(a){console.log(a)}},async SolicitoAltaRegistro(t){try{await f.a.IntentoAltaRegistroVeris(t,!0,this.$parent.$parent)}catch(e){console.error(e)}},LimpiarDatos(){this.$refs.FileUploadVeris.file="",this.$refs.FileUploadVeris.message="",this.$refs.FileUploadVeris.$refs.file.value=""}},components:{FileUploadVeris:Ue}},xe=ke,Oe=(a("17ce"),Object(I["a"])(xe,Fe,Se,!1,null,"54eaa544",null)),Te=Oe.exports,ze={name:"Veris",data(){return{SrcPDF:"",NumPagesPDF:0,InfoVeris:null,RegistrosPag:[],MostrarSinRegistros:!1,Inactivo:!1,DataActualizada:!0,_UserOk:!1,Error:null,ModalVisible:!1,currentPage:0,totalPages:0,ItemsPorPagina:5,RecalcularPaginado(t){this.RegistrosPag=[],this.totalPages=Math.ceil(t._Registros.length/this.ItemsPorPagina);var e=[];for(let a=0;a<t._Registros.length;a++)a>=(this.currentPage-1)*this.ItemsPorPagina&&a<this.currentPage*this.ItemsPorPagina&&e.push(t._Registros[a]);this.RegistrosPag=e,this.MostrarSinRegistros=this.RegistrosPag.length<=0},Online(){return this.$parent.Datos.AppOnline()},NombreProductor(){return null!=this.InfoVeris?this.InfoVeris._Productor:""},NombreEstablecimiento(){return null!=this.InfoVeris?this.InfoVeris._Establecimiento:""},AdminLogueado(){return this.$parent.Datos.AdminLogueado()},UrlPosts(){return h.a.UrlPosts()},VerReportePDF(t){this.SrcPDF=Ee["a"].createLoadingTask(this.UrlPosts()+"/"+t._Valor),this.$refs.TituloPDF.innerHTML="PDF cargado en fecha: "+t._FechaAlta;var e=this;this.SrcPDF.promise.then(t=>{this.NumPagesPDF=t.numPages}).catch(t=>{e.$parent.Notificacion("Error!","Podrás acceder al PDF cuando recuperes el internet...","error",3)})},DownloadPDF(t){var e=this.UrlPosts()+"/"+t._Valor,a="ReporteVeris-"+this.InfoVeris._Productor+"-"+this.InfoVeris._Establecimiento+"-"+t._FechaAlta;a=a.LimpiarCaracteresInvalidos();var o=this;f.a.DescargarArchivo(e).then(t=>{const e=t.headers["content-type"],o=new Blob([t.data],{type:e,encoding:"UTF-8"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=a+".pdf",i.click()}).catch(t=>{o.$parent.Notificacion("Parece que no tienes conexión","Intenta más tarde!","error",3)})}}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.RefrescarInfo(this.$route.params.Id),this.SetearPDFInicial())},methods:{SetearPDFInicial(){var t=this;setTimeout(()=>{t.RegistrosPag.length>0&&(t.VerReportePDF(t.RegistrosPag[0]),this.$refs.TituloPDF.innerHTML="Último PDF cargado. Fecha: "+t.RegistrosPag[0]._FechaAlta)},1e3)},RefrescarInfo(t){this.VistaActual(t)&&this.IntentoObtenerDataDeCache(t),f.a.ObtenerRegistrosVeris(t,this)},VistaActual(t){return this.$route.params.Id==t&&"Veri"==this.$route.name},AuxiliaresVista(t){this.VistaActual(t)&&(this.currentPage=1,this.RecalcularPaginado(this.InfoVeris))},AgregarPendientes(){var t=h.a.RecuperarJsonDeStorage(this.KeyRegistrosPendientes());null!=t&&t.forEach(t=>{t={_Id:0,_Valor:t.Valor,_FechaAlta:(new h.a.Fecha)._Fecha};this.InfoVeris._Registros.unshift(t)})},IntentoObtenerDataDeCache(t){try{var e=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada(t));null!=e&&(this.InfoVeris=e._Json,this.$refs.FechaData.innerHTML=e._Fecha._FechaYHora)}catch(a){console.log(a)}},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(t._IdVeris),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(t._IdVeris),e)},KeyDataCacheada(t){return"InfoVeris"+t},KeyRegistrosPendientesGeneral(){return"RegistrosPluviometroPendientes_"},KeyRegistrosPendientes(){return this.KeyRegistrosPendientesGeneral()+this.$route.params.Id},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado(this.InfoVeris)},NuevoRegistro(){this.$refs.Modal.Setear(this.InfoVeris._IdVeris),this.VerModal()},VerModal(){this.ModalVisible=!0},CerrarModal(){this.ModalVisible=!1},EliminarRegistro(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el registro?",button:{yes:"Si",no:"No"},callback:o=>{o&&u.a.post(h.a.UrlPosts()+"/AgroIdeas/BajaRegistroVeris",{IdUsuario:a.$parent.Datos._User._ID,IdRegistro:t}).then((function(t){a.$parent.Notificacion("Registro eliminado!","","success",3),a.RefrescarInfo(e)})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})}},components:{SlidingPagination:q.a,ModalNuevoRegistroVeris:Te,pdf:Ee["a"],SeccionTitulos:ft}},je=ze,Be=(a("72f5"),Object(I["a"])(je,ye,$e,!1,null,"16c5c170",null)),Ge=Be.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"water",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Análisis Agua Útil")]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[t._m(0),a("tbody",t._l(t.Registros,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerRegistro(e._Id)}}},[a("td",[t._v(t._s(e._NombreProductor))]),a("td",[t._v(t._s(e._NombreEstablecimiento))]),a("td",[t._v(t._s(e._Localidad))])])})),0)]),a("br"),a("br"),a("router-link",{staticClass:"BotonVerMapa dIB",attrs:{to:"/VerMapa"}},[t._v("Ver Mapa")])],1)},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Productor")]),a("th",[t._v("Establ.")]),a("th",[t._v("Localidad")])])])}],He={name:"Aguas",data(){return{Registros:null,_UserOk:!1,Error:null}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.IntentoObtenerDataDeCache(),this.ObtenerDatos())},methods:{ObtenerDatos(){var t=this;try{u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Aguas",{IdUsuario:t.$parent.Datos._User._ID}).then((function(e){t.Registros=e.data,t.GuardarDataEnCache(t.Registros),t.$refs.DivInfoData.classList.remove("Visible")})).catch((function(e){t.$refs.DivInfoData.classList.add("Visible")})).then((function(){}))}catch(e){console.log(e)}},VerRegistro(t){this.$router.push("/aguas/"+t)},IntentoObtenerDataDeCache(){var t=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada());null!=t&&(this.Registros=t._Json,this.$refs.FechaData.innerHTML=t._Fecha._FechaYHora)},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(),e)},KeyDataCacheada(){return"InfoAguas"+this.$parent.Datos._User._ID}},components:{}},qe=He,Ye=(a("7f83"),Object(I["a"])(qe,Ke,Je,!1,null,"3c753971",null)),We=Ye.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("ModalNuevoRegistro",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("SeccionTitulos",{attrs:{caso:"Análisis Agua Útil",icon:"water",productor:t.NombreProductor(),establecimiento:t.NombreEstablecimiento()}}),a("div",{ref:"DivInfoData",staticClass:"DivInfoData",class:{Visible:!t.DataActualizada}},[a("div",{staticClass:"fLeft"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"})]),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.RefrescarInfo(t.Info._IdAguas)}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",{staticClass:"c1"},[t._v("Valor")]),a("th",[t._v("Fecha")]),a("th",{staticClass:"pR c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:this.$parent.Datos.AdminLogueado(),expression:"this.$parent.Datos.AdminLogueado()"}],staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoRegistro()}}})],1)])]),a("tbody",t._l(t.RegistrosPag,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"c1"},[a("span",{on:{click:function(a){return t.VerReportePDF(e)}}},[a("u",[t._v("Ver Reporte")])])]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",{staticClass:"c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarRegistro(e._Id,t.Info._IdAguas)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id<=0,expression:"p._Id <= 0"}],staticClass:"h100 IconoEliminar cP fa fa-spinner fa-spin",style:{color:"#000000"},attrs:{icon:"spinner",size:"4x"}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#444"},attrs:{icon:"download",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.DownloadPDF(e)}}})],1)])})),0),a("tbody")]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.MostrarSinRegistros,expression:"this.MostrarSinRegistros"}],staticClass:"SinRegistros"},[t._v(" Aún no hay registros... ")]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}}),a("div",{ref:"TituloPDF",staticClass:"TituloPDF"}),t._l(t.NumPagesPDF,(function(e){return a("pdf",{key:e,attrs:{page:e,src:t.SrcPDF}})})),a("br"),a("br")],2)},Ze=[],Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"},[t._v("Nuevo registro")])])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("FileUploadAguas",{ref:"FileUploadAguas",on:{SubmitFormData:function(e){return t.SubmitFormData()}}})],1)])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.SubmitFormData()}}},[t._v("Aceptar")])])])])},ta=[],ea={name:"ModalNuevoRegistroAgua",data(){return{FechaAlta:new h.a.Fecha,Valor:"",_IdAguas:0}},mounted(){},created(){},methods:{BotonPermitido(){return""==!this.$refs.FileUploadAguas.message},Setear(t){this._IdAguas=t},Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async SubmitFormData(){var t=this;try{if(""!=this.$refs.FileUploadAguas.message)return;if(""==this.$refs.FileUploadAguas.file)return void t.$parent.$parent.Notificacion("Selecciona un archivo!","","error",3);var e=new FormData;e.append("file",this.$refs.FileUploadAguas.file),e.append("IdUsuario",this.$parent.$parent.Datos._User._ID),e.append("Id",this._IdAguas),e.append("Caso","Aguas"),e.append("Fecha",(new h.a.Fecha).Paquete()),await this.SolicitoAltaRegistro(e),this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.RefrescarInfo(this._IdAguas)}catch(a){console.log(a)}},async SolicitoAltaRegistro(t){try{await f.a.IntentoAltaRegistroAgua(t,!0,this.$parent.$parent)}catch(e){console.error(e)}},LimpiarDatos(){this.$refs.FileUploadAguas.file="",this.$refs.FileUploadAguas.message="",this.$refs.FileUploadAguas.$refs.file.value=""}},components:{FileUploadAguas:Ue}},aa=ea,oa=(a("28e5"),Object(I["a"])(aa,Qe,ta,!1,null,"07bc6620",null)),ia=oa.exports,sa={name:"RegistrosAgua",data(){return{SrcPDF:"",NumPagesPDF:0,Info:null,RegistrosPag:[],MostrarSinRegistros:!1,Inactivo:!1,DataActualizada:!0,UserOk:!1,Error:null,ModalVisible:!1,currentPage:0,totalPages:0,ItemsPorPagina:5,RecalcularPaginado(t){this.RegistrosPag=[],this.totalPages=Math.ceil(t._Registros.length/this.ItemsPorPagina);var e=[];for(let a=0;a<t._Registros.length;a++)a>=(this.currentPage-1)*this.ItemsPorPagina&&a<this.currentPage*this.ItemsPorPagina&&e.push(t._Registros[a]);this.RegistrosPag=e,this.MostrarSinRegistros=this.RegistrosPag.length<=0},Online(){return this.$parent.Datos.AppOnline()},NombreProductor(){return null!=this.Info?this.Info._Productor:""},NombreEstablecimiento(){return null!=this.Info?this.Info._Establecimiento:""},AdminLogueado(){return this.$parent.Datos.AdminLogueado()},UrlPosts(){return h.a.UrlPosts()},VerReportePDF(t){this.SrcPDF=Ee["a"].createLoadingTask(this.UrlPosts()+"/"+t._Valor),this.SrcPDF.promise.then(t=>{this.NumPagesPDF=t.numPages}),this.$refs.TituloPDF.innerHTML="PDF cargado en fecha: "+t._FechaAlta},DownloadPDF(t){var e=this.UrlPosts()+"/"+t._Valor,a="ReporteAgua-"+this.Info._Productor+"-"+this.Info._Establecimiento+"-"+t._FechaAlta;a=a.LimpiarCaracteresInvalidos();var o=this;f.a.DescargarArchivo(e).then(t=>{const e=t.headers["content-type"],o=new Blob([t.data],{type:e,encoding:"UTF-8"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=a+".pdf",i.click()}).catch(t=>{o.$parent.Notificacion("Parece que no tienes conexión","Intenta más tarde!","error",3)})}}},mounted(){this.UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this.UserOk&&(this.RefrescarInfo(this.$route.params.Id),this.SetearPDFInicial())},methods:{SetearPDFInicial(){var t=this;setTimeout(()=>{t.RegistrosPag.length>0&&(t.VerReportePDF(t.RegistrosPag[0]),this.$refs.TituloPDF.innerHTML="Último PDF cargado. Fecha: "+t.RegistrosPag[0]._FechaAlta)},1e3)},RefrescarInfo(t){this.VistaActual(t)&&this.IntentoObtenerDataDeCache(t),f.a.ObtenerRegistrosAgua(t,this)},VistaActual(t){return this.$route.params.Id==t&&"RegistrosAgua"==this.$route.name},AuxiliaresVista(t){this.VistaActual(t)&&(this.currentPage=1,this.RecalcularPaginado(this.Info))},AgregarPendientes(){var t=h.a.RecuperarJsonDeStorage(this.KeyRegistrosPendientes());null!=t&&t.forEach(t=>{t={_Id:0,_Valor:t.Valor,_FechaAlta:(new h.a.Fecha)._Fecha};this.Info._Registros.unshift(t)})},IntentoObtenerDataDeCache(t){try{var e=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada(t));null!=e&&(this.Info=e._Json,this.$refs.FechaData.innerHTML=e._Fecha._FechaYHora)}catch(a){console.log(a)}},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(t._IdAguas),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(t._IdAguas),e)},KeyDataCacheada(t){return"InfoRegistrosAgua"+t},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado(this.Info)},NuevoRegistro(){this.$refs.Modal.Setear(this.Info._IdAguas),this.VerModal()},VerModal(){this.ModalVisible=!0},CerrarModal(){this.ModalVisible=!1},EliminarRegistro(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el registro?",button:{yes:"Si",no:"No"},callback:o=>{o&&u.a.post(h.a.UrlPosts()+"/AgroIdeas/BajaRegistroAguas",{IdUsuario:a.$parent.Datos._User._ID,IdRegistro:t}).then((function(t){a.$parent.Notificacion("Registro eliminado!","","success",3),a.RefrescarInfo(e)})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})}},components:{SlidingPagination:q.a,ModalNuevoRegistro:ia,pdf:Ee["a"],SeccionTitulos:ft}},ra=sa,na=(a("cbdb"),Object(I["a"])(ra,Xe,Ze,!1,null,"57aaec1e",null)),ca=na.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("div",{staticClass:"TituloSeccion"},[a("font-awesome-icon",{staticClass:"IconoTituloSeccion fLeft",style:{color:"black"},attrs:{icon:"seedling",size:"4x"}}),a("div",{staticClass:"fLeft"},[t._v("Análisis Suelos")]),a("div",{staticClass:"clear"})],1),a("div",{ref:"DivInfoData",staticClass:"DivInfoData"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"}),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.ObtenerDatos()}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[t._m(0),a("tbody",t._l(t.Registros,(function(e){return a("tr",{key:e._Id,on:{click:function(a){return t.VerRegistro(e._Id)}}},[a("td",[t._v(t._s(e._NombreProductor))]),a("td",[t._v(t._s(e._NombreEstablecimiento))]),a("td",[t._v(t._s(e._Localidad))])])})),0)]),a("br"),a("br"),a("router-link",{staticClass:"BotonVerMapa dIB",attrs:{to:"/VerMapa"}},[t._v("Ver Mapa")])],1)},ua=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Productor")]),a("th",[t._v("Establ.")]),a("th",[t._v("Localidad")])])])}],da={name:"Suelos",data(){return{Registros:null,_UserOk:!1,Error:null}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.IntentoObtenerDataDeCache(),this.ObtenerDatos())},methods:{ObtenerDatos(){var t=this;try{u.a.post(t.$parent.Datos.UrlPosts()+"/AgroIdeas/Suelos",{IdUsuario:t.$parent.Datos._User._ID}).then((function(e){t.Registros=e.data,t.GuardarDataEnCache(t.Registros),t.$refs.DivInfoData.classList.remove("Visible")})).catch((function(e){t.$refs.DivInfoData.classList.add("Visible")})).then((function(){}))}catch(e){console.log(e)}},VerRegistro(t){this.$router.push("/suelos/"+t)},IntentoObtenerDataDeCache(){var t=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada());null!=t&&(this.Registros=t._Json,this.$refs.FechaData.innerHTML=t._Fecha._FechaYHora)},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(),e)},KeyDataCacheada(){return"InfoSuelos"+this.$parent.Datos._User._ID}},components:{}},ha=da,ma=(a("b5ed"),Object(I["a"])(ha,la,ua,!1,null,"0c6ba20e",null)),fa=ma.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100 Contenido"},[a("ModalNuevoRegistro",{directives:[{name:"show",rawName:"v-show",value:t.ModalVisible,expression:"ModalVisible"}],ref:"Modal",on:{Cerrar:t.CerrarModal}}),a("SeccionTitulos",{attrs:{caso:"Análisis de Suelos",icon:"seedling",productor:t.NombreProductor(),establecimiento:t.NombreEstablecimiento()}}),a("div",{ref:"DivInfoData",staticClass:"DivInfoData",class:{Visible:!t.DataActualizada}},[a("div",{staticClass:"fLeft"},[t._v(" Info recuperada de fecha: "),a("span",{ref:"FechaData"})]),a("div",{staticClass:"fRight",on:{click:function(e){return e.stopPropagation(),t.RefrescarInfo(t.Info._IdSuelo)}}},[a("font-awesome-icon",{staticClass:"IconoActualizar fLeft",style:{color:"white"},attrs:{icon:"sync-alt",size:"4x"}}),a("div",{staticClass:"clear"})],1),a("div",{staticClass:"clear"})]),a("table",[a("thead",[a("tr",[a("th",{staticClass:"c1"},[t._v("Valor")]),a("th",[t._v("Fecha")]),a("th",{staticClass:"pR c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:this.$parent.Datos.AdminLogueado(),expression:"this.$parent.Datos.AdminLogueado()"}],staticClass:"IconoAgregar Centro",style:{color:"#005625"},attrs:{icon:"plus-circle",size:"4x"},on:{click:function(e){return e.stopPropagation(),t.NuevoRegistro()}}})],1)])]),a("tbody",t._l(t.RegistrosPag,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"c1"},[a("span",{on:{click:function(a){return t.VerReportePDF(e)}}},[a("u",[t._v("Ver Reporte")])])]),a("td",[t._v(t._s(e._FechaAlta))]),a("td",{staticClass:"c3"},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#934141"},attrs:{icon:"trash-alt",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.EliminarRegistro(e._Id,t.Info._IdSuelo)}}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id<=0,expression:"p._Id <= 0"}],staticClass:"h100 IconoEliminar cP fa fa-spinner fa-spin",style:{color:"#000000"},attrs:{icon:"spinner",size:"4x"}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e._Id>0&&t.AdminLogueado()&&t.Online(),expression:"p._Id > 0 && AdminLogueado() && Online()"}],staticClass:"h100 IconoEliminar cP",style:{color:"#444"},attrs:{icon:"download",size:"4x"},on:{click:function(a){return a.stopPropagation(),t.DownloadPDF(e)}}})],1)])})),0),a("tbody")]),a("div",{directives:[{name:"show",rawName:"v-show",value:this.MostrarSinRegistros,expression:"this.MostrarSinRegistros"}],staticClass:"SinRegistros"},[t._v(" Aún no hay registros... ")]),a("sliding-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],attrs:{slidingEndingSize:2,slidingWindowSize:2,current:t.currentPage,total:t.totalPages},on:{"page-change":t.CambioDePagina}}),a("div",{ref:"TituloPDF",staticClass:"TituloPDF"}),t._l(t.NumPagesPDF,(function(e){return a("pdf",{key:e,attrs:{page:e,src:t.SrcPDF}})})),a("br"),a("br")],2)},ga=[],va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w100"},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return t.ClickOutside()}}}),a("div",{staticClass:"modal",attrs:{role:"dialog"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[a("div",{ref:"Titulo"},[t._v("Nuevo registro")])])],2),a("section",{staticClass:"modal-body mT10",attrs:{id:"modalDescription"}},[a("div",{staticClass:"face face-front oHidden"},[a("div",{staticClass:"content aliCenter"},[a("div",{},[a("div",{staticClass:"field-wrapper"},[a("FileUploadSuelo",{ref:"FileUploadSuelo",on:{SubmitFormData:function(e){return t.SubmitFormData()}}})],1)])])])]),a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"Boton BotonCancelar",attrs:{type:"button"},on:{click:t.Cerrar}},[t._v("Cancelar")]),a("button",{staticClass:"Boton BotonAceptar",attrs:{type:"button"},on:{click:function(e){return t.SubmitFormData()}}},[t._v("Aceptar")])])])])},_a=[],Ia={name:"ModalNuevoRegistroSuelo",data(){return{FechaAlta:new h.a.Fecha,Valor:"",_IdSuelo:0}},mounted(){},created(){},methods:{BotonPermitido(){return""==!this.$refs.FileUploadSuelo.message},Setear(t){this._IdSuelo=t},Cerrar(){this.$emit("Cerrar")},ClickOutside(){this.$emit("Cerrar")},async SubmitFormData(){var t=this;try{if(""!=this.$refs.FileUploadSuelo.message)return;if(""==this.$refs.FileUploadSuelo.file)return void t.$parent.$parent.Notificacion("Selecciona un archivo!","","error",3);var e=new FormData;e.append("file",this.$refs.FileUploadSuelo.file),e.append("IdUsuario",this.$parent.$parent.Datos._User._ID),e.append("Id",this._IdSuelo),e.append("Caso","Suelos"),e.append("Fecha",(new h.a.Fecha).Paquete()),await this.SolicitoAltaRegistro(e),this.LimpiarDatos(),this.$parent.CerrarModal(),this.$parent.RefrescarInfo(this._IdSuelo)}catch(a){console.log(a)}},async SolicitoAltaRegistro(t){try{await f.a.IntentoAltaRegistroSuelo(t,!0,this.$parent.$parent)}catch(e){console.error(e)}},LimpiarDatos(){this.$refs.FileUploadSuelo.file="",this.$refs.FileUploadSuelo.message="",this.$refs.FileUploadSuelo.$refs.file.value=""}},components:{FileUploadSuelo:Ue}},Ca=Ia,Pa=(a("801f"),Object(I["a"])(Ca,va,_a,!1,null,"caf80de0",null)),Da=Pa.exports,ba={name:"RegistrosSuelo",data(){return{SrcPDF:"",NumPagesPDF:0,Info:null,RegistrosPag:[],MostrarSinRegistros:!1,Inactivo:!1,DataActualizada:!0,_UserOk:!1,Error:null,ModalVisible:!1,currentPage:0,totalPages:0,ItemsPorPagina:5,RecalcularPaginado(t){this.RegistrosPag=[],this.totalPages=Math.ceil(t._Registros.length/this.ItemsPorPagina);var e=[];for(let a=0;a<t._Registros.length;a++)a>=(this.currentPage-1)*this.ItemsPorPagina&&a<this.currentPage*this.ItemsPorPagina&&e.push(t._Registros[a]);this.RegistrosPag=e,this.MostrarSinRegistros=this.RegistrosPag.length<=0},Online(){return this.$parent.Datos.AppOnline()},NombreProductor(){return null!=this.Info?this.Info._Productor:""},NombreEstablecimiento(){return null!=this.Info?this.Info._Establecimiento:""},AdminLogueado(){return this.$parent.Datos.AdminLogueado()},UrlPosts(){return h.a.UrlPosts()},VerReportePDF(t){this.SrcPDF=Ee["a"].createLoadingTask(this.UrlPosts()+"/"+t._Valor),this.SrcPDF.promise.then(t=>{this.NumPagesPDF=t.numPages}),this.$refs.TituloPDF.innerHTML="PDF cargado en fecha: "+t._FechaAlta},DownloadPDF(t){var e=this.UrlPosts()+"/"+t._Valor,a="ReporteSuelo-"+this.Info._Productor+"-"+this.Info._Establecimiento+"-"+t._FechaAlta;a=a.LimpiarCaracteresInvalidos();var o=this;f.a.DescargarArchivo(e).then(t=>{const e=t.headers["content-type"],o=new Blob([t.data],{type:e,encoding:"UTF-8"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=a+".pdf",i.click()}).catch(t=>{o.$parent.Notificacion("Parece que no tienes conexión","Intenta más tarde!","error",3)})}}},mounted(){this._UserOk=this.$parent.Datos.ChequearSesionUsuario(this.$router),this._UserOk&&(this.RefrescarInfo(this.$route.params.Id),this.SetearPDFInicial())},methods:{SetearPDFInicial(){var t=this;setTimeout(()=>{t.RegistrosPag.length>0&&(t.VerReportePDF(t.RegistrosPag[0]),this.$refs.TituloPDF.innerHTML="Último PDF cargado. Fecha: "+t.RegistrosPag[0]._FechaAlta)},1e3)},RefrescarInfo(t){this.VistaActual(t)&&this.IntentoObtenerDataDeCache(t),f.a.ObtenerRegistrosSuelo(t,this)},VistaActual(t){return this.$route.params.Id==t&&"RegistrosSuelo"==this.$route.name},AuxiliaresVista(t){this.VistaActual(t)&&(this.currentPage=1,this.RecalcularPaginado(this.Info))},AgregarPendientes(){var t=h.a.RecuperarJsonDeStorage(this.KeyRegistrosPendientes());null!=t&&t.forEach(t=>{t={_Id:0,_Valor:t.Valor,_FechaAlta:(new h.a.Fecha)._Fecha};this.Info._Registros.unshift(t)})},IntentoObtenerDataDeCache(t){try{var e=h.a.RecuperarJsonDeStorage(this.KeyDataCacheada(t));null!=e&&(this.Info=e._Json,this.$refs.FechaData.innerHTML=e._Fecha._FechaYHora)}catch(a){console.log(a)}},GuardarDataEnCache(t){var e={_Fecha:new h.a.Fecha(new Date),_Key:this.KeyDataCacheada(t._IdSuelo),_Json:t};h.a.GuardarJsonEnStorage(this.KeyDataCacheada(t._IdSuelo),e)},KeyDataCacheada(t){return"InfoRegistrosSuelo"+t},CambioDePagina(t){this.currentPage=t,this.RecalcularPaginado(this.Info)},NuevoRegistro(){this.$refs.Modal.Setear(this.Info._IdSuelo),this.VerModal()},VerModal(){this.ModalVisible=!0},CerrarModal(){this.ModalVisible=!1},EliminarRegistro(t,e){var a=this;this.$confirm({title:"ATENCIÓN",message:"Estás seguro de eliminar el registro?",button:{yes:"Si",no:"No"},callback:o=>{o&&u.a.post(h.a.UrlPosts()+"/AgroIdeas/BajaRegistroSuelo",{IdUsuario:a.$parent.Datos._User._ID,IdRegistro:t}).then((function(t){a.$parent.Notificacion("Registro eliminado!","","success",3),a.RefrescarInfo(e)})).catch((function(t){a.$parent.Notificacion("Error!","","error",3),console.error(t)})).then((function(){}))}})}},components:{SlidingPagination:q.a,ModalNuevoRegistro:Da,pdf:Ee["a"],SeccionTitulos:ft}},wa=ba,Aa=(a("6d34"),Object(I["a"])(wa,pa,ga,!1,null,"6dc9e202",null)),ya=Aa.exports;o["default"].use(y["a"]);const $a=[{path:"/",name:"Home",component:x},{path:"/index.html",name:"Home1",component:x},{path:"/login",name:"Login",component:L},{path:"/pluviometros",name:"pluviometros",component:G},{path:"/pluviometro/:Id?",name:"Pluviometro",component:wt},{path:"/veris",name:"Veris",component:Ae},{path:"/veris/:Id?",name:"Veri",component:Ge},{path:"/establecimientos/:Id?",name:"Establecimientos",component:Ie},{path:"/freatimetros/",name:"Freatimetros",component:St},{path:"/freatimetro/:Id?",name:"Freatimetro",component:jt},{path:"/vermapa",name:"VerMapa",component:Yt},{path:"/productores",name:"Productores",component:ne},{path:"/aguas",name:"Aguas",component:We},{path:"/aguas/:Id?",name:"RegistrosAgua",component:ca},{path:"/suelos",name:"Suelos",component:fa},{path:"/suelos/:Id?",name:"RegistrosSuelo",component:ya}],Ea=new y["a"]({mode:"history",base:"/agroideas-maizplus/",routes:$a});var Fa=Ea,Sa=a("755e"),Ra=a("ee98"),La=a.n(Ra),Va=a("05f3"),Na=a("d30b"),Ma=a.n(Na);function Ua(){try{var t=!1;void 0!=navigator.serviceWorker&&(t=null!=navigator.serviceWorker.controller);var e="/agroideas-maizplus/sw.js";"serviceWorker"in navigator?navigator.serviceWorker.register(e).then((function(e){console.warn("Service worker registrado OK!"),e.addEventListener("updatefound",(function(){var a=e.installing;console.log("Un nuevo SW está instalándose.",a),t&&ka()}))})).catch((function(t){console.log("Service worker registration failed:",t)})):console.log("Service workers are not supported.")}catch(a){console.log(a)}}function ka(){}o["default"].config.productionTip=!1,o["default"].use(Sa,{load:{key:"AIzaSyCl8g0sZTklDjUqlMRo_S0PF4oVWkzWuk8"}}),o["default"].use(La.a),o["default"].use(Va["a"]),o["default"].use(Ma.a),o["default"].component("vue-confirm-dialog",Ma.a.default),new o["default"]({router:Fa,render:function(t){return t(A)}}).$mount("#app"),Ua()},"5c0b":function(t,e,a){"use strict";var o=a("9c0c"),i=a.n(o);i.a},"5f04":function(t,e,a){},"673c":function(t,e,a){"use strict";var o=a("4190"),i=a.n(o);i.a},"682f":function(t,e,a){},"6a48":function(t,e,a){"use strict";var o=a("edbe"),i=a.n(o);i.a},"6d34":function(t,e,a){"use strict";var o=a("6d72"),i=a.n(o);i.a},"6d72":function(t,e,a){},"6d78":function(t,e,a){},"6eeb":function(t,e,a){},"704b":function(t,e,a){"use strict";var o=a("0f19"),i=a.n(o);i.a},"72f5":function(t,e,a){"use strict";var o=a("ed25"),i=a.n(o);i.a},"7f83":function(t,e,a){"use strict";var o=a("a579"),i=a.n(o);i.a},"801f":function(t,e,a){"use strict";var o=a("6eeb"),i=a.n(o);i.a},"822f":function(t,e,a){},"82a5":function(t,e,a){},"89d1":function(t,e,a){},"8d49":function(t,e,a){},"9c0c":function(t,e,a){},"9c79":function(t,e,a){"use strict";var o=a("682f"),i=a.n(o);i.a},a0d7:function(t,e,a){"use strict";var o=a("5f04"),i=a.n(o);i.a},a579:function(t,e,a){},b527:function(t,e,a){"use strict";var o=a("6d78"),i=a.n(o);i.a},b5ed:function(t,e,a){"use strict";var o=a("e573"),i=a.n(o);i.a},c193:function(t,e,a){"use strict";var o=a("dd20"),i=a.n(o);i.a},c4cc:function(t,e,a){},cbdb:function(t,e,a){"use strict";var o=a("89d1"),i=a.n(o);i.a},ccc1:function(t,e,a){},d6b0:function(t,e,a){"use strict";var o=a("1a77"),i=a.n(o);i.a},dd20:function(t,e,a){},e1a0:function(t,e,a){},e573:function(t,e,a){},ed25:function(t,e,a){},edbe:function(t,e,a){},f102:function(t,e,a){"use strict";var o=a("e1a0"),i=a.n(o);i.a},f319:function(t,e,a){"use strict";var o=a("82a5"),i=a.n(o);i.a},f7eb:function(t,e,a){t.exports=a.p+"img/logo-maiz-plus.8a3f6b67.png"}});
//# sourceMappingURL=app.76159ff0.js.map